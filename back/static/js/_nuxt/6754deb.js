(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{729:function(e,t,o){"use strict";o(7);var l={props:{value:{type:Object,default:function(){return{}}},errors:{type:Object,default:function(){return{}}}},data:function(){return{employee:"",search:"",departments:[],loadingDepartments:!0}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},"value.profile_image":function(e){this.value.profile_image_id=e.id}},mounted:function(){var e=this;this.$employees.getDepartments(this.$route.params.id).then((function(t){e.departments=t})).catch((function(t){e.$store.dispatch("showSnackbar","Departments could not be loaded.")})).finally((function(){e.loadingDepartments=!1}))}},n=o(23),r=o(24),c=o.n(r),m=o(644),d=o(645),v=o(648),f=o(65),h=o(655),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-row",{staticStyle:{"max-width":"100%"}},[o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:e.$t("forms.firstName"),"error-messages":e.errorMessages.first_name},on:{keyup:function(t){e.errorMessages.first_name=""}},model:{value:e.value.first_name,callback:function(t){e.$set(e.value,"first_name",t)},expression:"value.first_name"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:e.$t("forms.lastName"),"error-messages":e.errorMessages.last_name},on:{keyup:function(t){e.errorMessages.last_name=""}},model:{value:e.value.last_name,callback:function(t){e.$set(e.value,"last_name",t)},expression:"value.last_name"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:e.$t("forms.email"),"error-messages":e.errorMessages.email,type:"email"},on:{keyup:function(t){e.errorMessages.email=""}},model:{value:e.value.email,callback:function(t){e.$set(e.value,"email",t)},expression:"value.email"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:e.$t("forms.position"),"error-messages":e.errorMessages.position},on:{keyup:function(t){e.errorMessages.position=""}},model:{value:e.value.position,callback:function(t){e.$set(e.value,"position",t)},expression:"value.position"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-combobox",{attrs:{items:e.departments,loading:e.loadingDepartments,label:"Department"},model:{value:e.value.department,callback:function(t){e.$set(e.value,"department",t)},expression:"value.department"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:e.$t("forms.phone"),"error-messages":e.errorMessages.phone},on:{keyup:function(t){e.errorMessages.phone=""}},model:{value:e.value.phone,callback:function(t){e.$set(e.value,"phone",t)},expression:"value.phone"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{"error-messages":e.errorMessages.twitter,label:"Twitter"},on:{keyup:function(t){e.errorMessages.twitter=""}},model:{value:e.value.twitter,callback:function(t){e.$set(e.value,"twitter",t)},expression:"value.twitter"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{"error-messages":e.errorMessages.facebook,label:"Facebook"},on:{keyup:function(t){e.errorMessages.facebook=""}},model:{value:e.value.facebook,callback:function(t){e.$set(e.value,"facebook",t)},expression:"value.facebook"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-text-field",{attrs:{"error-messages":e.errorMessages.linkedin,label:"Linkedin"},on:{keyup:function(t){e.errorMessages.linkedin=""}},model:{value:e.value.linkedin,callback:function(t){e.$set(e.value,"linkedin",t)},expression:"value.linkedin"}})],1),e._v(" "),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-textarea",{attrs:{label:e.$t("forms.message"),hint:e.$t("forms.messageHint"),"persistent-hint":!0,"error-messages":e.errorMessages.message},on:{keyup:function(t){e.errorMessages.message=""}},model:{value:e.value.message,callback:function(t){e.$set(e.value,"message",t)},expression:"value.message"}})],1),e._v(" "),o("v-col",{staticClass:"py-0 mt-2",attrs:{cols:"12"}},[o("label",[e._v(e._s(e.$t("forms.profilePicture")))]),e._v(" "),o("v-file",{staticStyle:{width:"100%"},model:{value:e.value.profile_image,callback:function(t){e.$set(e.value,"profile_image",t)},expression:"value.profile_image"}})],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VCol:m.a,VCombobox:d.a,VRow:v.a,VTextField:f.a,VTextarea:h.a})},756:function(e,t,o){var content=o(851);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("29e30faa",content,!0,{sourceMap:!1})},850:function(e,t,o){"use strict";o(756)},851:function(e,t,o){var l=o(16)(!1);l.push([e.i,".border-bottom[data-v-8b3b41fc]{border-bottom:1px solid #e4e4e4}.second[data-v-8b3b41fc]{margin-left:10px}.first[data-v-8b3b41fc]{margin-right:10px}",""]),e.exports=l},874:function(e,t,o){"use strict";o.r(t);o(7);var l=o(139),n=o(729),r={components:{SelectTemplates:o(411).a},props:{value:{type:Object,required:!0}},data:function(){return{search:"",slack_loading:!1,addResources:!1,addCollections:!1,addedResources:[],portal_loading:!1,resources:[],loading:!0}},watch:{value:function(e){this.$emit("input",e)}},mounted:function(){this.getEmployeeResources()},methods:{giveAccessPortal:function(){var e=this;this.portal_loading=!0,this.$employees.giveAccessPortal(this.value).then((function(){e.$store.commit("changeEmp",e.value,!0),e.$store.commit("changeLoading",e.value,!1)})).finally((function(){e.portal_loading=!1}))},giveAccessSlack:function(){var e=this;this.slack_loading=!0,this.$employees.giveAccessSlack(this.value).then((function(){e.value.slack_user_id="set"})).finally((function(){e.slack_loading=!1}))},revokeAccessSlack:function(){var e=this;this.slack_loading=!0,this.$employees.revokeAccessSlack(this.value).then((function(){e.value.slack_user_id=null,e.slack_loading=!1})).finally((function(){e.slack_loading=!1}))},addResourceToEmployee:function(e){var t=this;this.$employees.addResource(this.$route.params.id,e.id).then((function(data){t.resources=data}))},addCollectionToEmployee:function(e){var t=this;this.$employees.addCollection(this.$route.params.id,e.id).then((function(data){t.resources=data}))},getEmployeeResources:function(){var e=this;this.loading=!0,this.$employees.getResources(this.$route.params.id).then((function(data){e.resources=data})).finally((function(){e.loading=!1}))},removeResource:function(e){var t=this;this.$employees.removeResource(this.$route.params.id,e).then((function(data){t.resources=data}))}}},c=o(23),m=o(24),d=o.n(m),v=o(140),f=o(215),h=o(211),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("LoadingIcon",{attrs:{"is-loading":e.loading}}),e._v(" "),e.loading?e._e():o("div",[o("p",[e._v(e._s(e.$t("employee.resourceInstr"))+" ")]),e._v(" "),e.resources.data>0?o("h2",[e._v("\n      "+e._s(e.$t("employee.noResources"))+"\n    ")]):e._e(),e._v(" "),e._l(e.resources,(function(i){return o("div",{key:i.id},[o("div",[o("v-chip",{staticStyle:{"margin-bottom":"5px"},attrs:{close:""},on:{"click:close":function(t){return e.removeResource(i.id)}}},[e._v("\n          "+e._s(i.name)+"\n        ")])],1)])})),e._v(" "),o("v-btn",{on:{click:function(t){e.addResources=!0}}},[e._v("\n      "+e._s(e.$t("employee.addResources"))+"\n    ")]),e._v(" "),o("v-btn",{on:{click:function(t){e.addCollections=!0}}},[e._v("\n      "+e._s(e.$t("employee.addCollection"))+"\n    ")]),e._v(" "),e.addCollections?o("SelectTemplates",{attrs:{items:this.$store.state.sequences.all},on:{clickedItem:e.addCollectionToEmployee},model:{value:e.addCollections,callback:function(t){e.addCollections=t},expression:"addCollections"}}):e._e(),e._v(" "),e.addResources?o("SelectTemplates",{attrs:{items:this.$store.state.resources.all},on:{clickedItem:e.addResourceToEmployee},model:{value:e.addResources,callback:function(t){e.addResources=t},expression:"addResources"}}):e._e(),e._v(" "),o("v-divider",{staticClass:"ma-2"}),e._v(" "),e.value.slack_user_id?o("div",{staticStyle:{display:"inline-block"}},[o("v-btn",{attrs:{loading:e.slack_loading,color:"error"},on:{click:function(t){return e.revokeAccessSlack()}}},[e._v("\n        "+e._s(e.$t("employee.removeSlackAccess"))+"\n      ")])],1):o("div",{staticStyle:{display:"inline-block"}},[o("v-btn",{attrs:{loading:e.slack_loading,color:"success"},on:{click:function(t){return e.giveAccessSlack()}}},[e._v("\n        "+e._s(e.$t("employee.giveSlackAccess"))+"\n      ")])],1),e._v(" "),e.value.has_pwd?e._e():o("div",{staticStyle:{display:"inline-block"}},[o("v-btn",{attrs:{loading:e.portal_loading,color:"success"},on:{click:function(t){return e.giveAccessPortal()}}},[e._v("\n        "+e._s(e.$t("employee.givePortalAccess"))+"\n      ")])],1)],2)],1)}),[],!1,null,null,null),_=component.exports;d()(component,{VBtn:v.a,VChip:f.a,VDivider:h.a});var y={layout:"admin",components:{EmployeeForm:n.a,EmployeeResources:_},data:function(){return{loading:!0,removing:!1,submittingForm:!1,headers:[{text:"Name",value:"name"},{}],errors:{},employee:{}}},computed:Object(l.b)(["employees"]),watch:{$route:function(e,t){this.getEmployee()}},mounted:function(){this.getEmployee(),this.$resources.getAll()},methods:{getEmployee:function(){var e=this;return this.$employees.getEmployee(this.$route.params.id).then((function(t){e.employee=t})).catch((function(t){e.$store.dispatch("showSnackbar",e.$t("employee.NotExists"))})).finally((function(){e.loading=!1}))},submitForm:function(){var e=this;this.submittingForm=!0,this.$employees.submitForm(this.$route.params.id,this.employee).then((function(t){e.$store.dispatch("showSnackbar",e.$t("employee.updated"))})).catch((function(t){e.errors=t,e.$store.dispatch("showSnackbar",e.$t("employee.couldNotUpdate"))})).finally((function(){e.submittingForm=!1}))},removeEmployee:function(){var e=this;this.removing=!0,this.$employees.remove(this.$route.params.id).then((function(data){e.$store.dispatch("showSnackbar",e.$t("employee.removed")),e.$router.push({name:"admin-employee"})})).catch((function(t){e.$store.dispatch("showSnackbar",e.$t("employee.couldNotBeRemoved"))})).finally((function(){e.removing=!1}))}}},k=(o(850),o(208)),$=o(644),x=o(652),C=o(648),w=Object(c.a)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-row",[o("v-col",{attrs:{sm:"12",mb:"8","offset-mb":"2",md:"10","offset-sm":"1"}},[o("div",[o("v-row",{staticClass:"mb-4"},[o("v-col",{attrs:{sm:"6"}},[o("h1",{staticClass:"heading",staticStyle:{"margin-top":"10px"}},[e._v("\n            "+e._s(e.employee.first_name)+" "+e._s(e.employee.last_name)+"\n          ")])]),e._v(" "),o("v-col",{attrs:{sm:"6"}},[o("v-btn",{staticClass:"error",staticStyle:{float:"right","margin-top":"14px","margin-right":"0px"},attrs:{loading:e.removing},on:{click:e.removeEmployee}},[e._v("\n            "+e._s(e.$t("buttons.remove"))+"\n          ")])],1)],1),e._v(" "),o("v-container",{staticClass:"md pa-0"},[o("v-row",{staticClass:"mb-4"},[o("v-col",{attrs:{sm:"6"}},[o("v-card",{staticClass:"mb-4 first"},[o("LoadingIcon",{attrs:{"is-loading":e.loading}}),e._v(" "),e.loading?e._e():o("v-col",[o("v-container",{attrs:{"grid-list-md":"",fluid:"",wrap:""}},[o("v-row",{attrs:{wrap:""}},[o("EmployeeForm",{attrs:{errors:e.errors},model:{value:e.employee,callback:function(t){e.employee=t},expression:"employee"}}),e._v(" "),o("v-col",{attrs:{sm:"12","mt-2":""}},[o("v-btn",{staticClass:"success",staticStyle:{float:"right"},attrs:{loading:e.submittingForm},on:{click:e.submitForm}},[e._v("\n                        "+e._s(e.$t("buttons.save"))+"\n                      ")])],1)],1)],1)],1)],1)],1),e._v(" "),o("v-col",{attrs:{sm:"6"}},[o("v-card",{staticClass:"mb-4 second pa-3"},[o("LoadingIcon",{attrs:{"is-loading":e.loading}}),e._v(" "),e.loading?e._e():o("v-col",[o("EmployeeResources",{model:{value:e.employee,callback:function(t){e.employee=t},expression:"employee"}})],1)],1)],1)],1)],1)],1)])],1)}),[],!1,null,"8b3b41fc",null);t.default=w.exports;d()(w,{VBtn:v.a,VCard:k.a,VCol:$.a,VContainer:x.a,VRow:C.a})}}]);