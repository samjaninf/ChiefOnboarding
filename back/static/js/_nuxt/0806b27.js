(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{715:function(t,e,n){"use strict";n(15),n(12),n(13);var r=n(1),o=(n(44),n(10),n(11),n(7),n(151),n(32),n(41),n(8)),c=n(88),l=n(112);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:v({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},868:function(t,e,n){"use strict";n.r(e);n(21);var r={name:"IntegrationItem",props:{title:{type:String,default:""},description:{type:String,default:""},connected:{type:Boolean,default:!1},integration:{type:Number,default:0}},data:function(){return{removing:!1}},methods:{removeIntegration:function(t){var e=this;this.removing=!0,this.$integrations.removeIntegration(t).then((function(t){e.$org.getDetailOrgInfo().then((function(t){e.$store.commit("setOrg",t),e.removing=!1}))}))}}},o=n(23),c=n(24),l=n.n(c),d=n(140),v=n(208),m=n(644),f=n(652),_=n(648),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{attrs:{sm:"12"}},[n("v-card",[n("v-container",[n("v-row",{staticClass:"px-4",attrs:{align:"center"}},[n("v-col",{attrs:{cols:"2"}},[t._v("\n          "+t._s(t.title)+"\n        ")]),t._v(" "),n("v-col",{attrs:{cols:"8"}},[t._v("\n          "+t._s(t.description)+"\n        ")]),t._v(" "),n("v-col",{attrs:{cols:"2"}},[t.connected?n("v-btn",{staticStyle:{color:"white"},attrs:{loading:t.removing,color:"dark"},on:{click:function(e){return t.removeIntegration(t.integration)}}},[t._v("\n            "+t._s(t.$t("buttons.remove"))+"\n          ")]):t._t("default")],2)],1)],1)],1)],1)}),[],!1,null,null,null),h=component.exports;l()(component,{VBtn:d.a,VCard:v.a,VCol:m.a,VContainer:f.a,VRow:_.a});var y={name:"ConnectSlackDialog",props:{type:{default:0,type:Number}},data:function(){return{form:{integration:0},dialog:!1,secondStep:!1,scope:"bot,users:read.email,chat:write:bot,users:read,commands"}},mounted:function(){1===this.type&&(this.scope="client",this.form.integration=1)},methods:{saveIntegration:function(){var t=this;this.$integrations.saveSlackIntegration(this.form).then((function(){t.secondStep=!0})).catch((function(t){console.log(t)}))}}},$=n(43),C=n(646),w=n(211),k=n(715),V=n(649),x=n(65),O=Object(o.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{color:"primary",dark:""}},r),[t._v("\n        Connect\n      ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n        Connect Slack\n      ")]),t._v(" "),n("v-card-text",[n("v-form",{directives:[{name:"show",rawName:"v-show",value:!t.secondStep,expression:"!secondStep"}],staticClass:"mt-3"},[n("v-container",[n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.app_id"),required:""},model:{value:t.form.app_id,callback:function(e){t.$set(t.form,"app_id",e)},expression:"form.app_id"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_id"),required:""},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_secret"),required:""},model:{value:t.form.client_secret,callback:function(e){t.$set(t.form,"client_secret",e)},expression:"form.client_secret"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.signing_secret"),required:""},model:{value:t.form.signing_secret,callback:function(e){t.$set(t.form,"signing_secret",e)},expression:"form.signing_secret"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.verification_token"),required:""},model:{value:t.form.verification_token,callback:function(e){t.$set(t.form,"verification_token",e)},expression:"form.verification_token"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.redirect_url"),required:""},model:{value:t.form.redirect_url,callback:function(e){t.$set(t.form,"redirect_url",e)},expression:"form.redirect_url"}})],1)],1)],1),t._v(" "),t.secondStep?n("a",{attrs:{href:"https://slack.com/oauth/authorize?scope="+t.scope+"&client_id="+t.form.client_id+"&redirect_uri="+t.form.redirect_url}},[n("img",{attrs:{alt:"Add to Slack",height:"40",width:"139",src:"https://platform.slack-edge.com/img/add_to_slack.png",srcset:"https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x"}})]):t._e()],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),t.secondStep?t._e():n("v-btn",{attrs:{color:"primary"},on:{click:t.saveIntegration}},[t._v("\n          "+t._s(t.$t("buttons.submit"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null),I=O.exports;l()(O,{VBtn:d.a,VCard:v.a,VCardActions:$.a,VCardText:$.b,VCardTitle:$.c,VContainer:f.a,VDialog:C.a,VDivider:w.a,VForm:k.a,VRow:_.a,VSpacer:V.a,VTextField:x.a});var S={name:"GoogleAPIConnectDialog",data:function(){return{form:{integration:2},dialog:!1,stepOne:!0,state:""}},methods:{saveIntegration:function(){var t=this;this.$integrations.saveGoogleAPIKey(this.form).then((function(data){t.stepOne=!1,t.state=data.one_time_auth_code})).catch((function(t){console.log(t)}))}}},D=Object(o.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{color:"primary",dark:""}},r),[t._v("\n        Connect\n      ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n        Connect Google\n      ")]),t._v(" "),n("v-card-text",[n("v-form",{staticClass:"mt-3"},[t.stepOne?n("v-container",[n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_id"),required:""},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_secret"),required:""},model:{value:t.form.client_secret,callback:function(e){t.$set(t.form,"client_secret",e)},expression:"form.client_secret"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.redirect_url"),required:""},model:{value:t.form.redirect_url,callback:function(e){t.$set(t.form,"redirect_url",e)},expression:"form.redirect_url"}})],1)],1):n("v-container",[n("v-row",[t._v("\n              "+t._s(t.$t("settings.integrations.completeGoogle"))+" Â \n              "),n("a",{attrs:{href:"https://accounts.google.com/signin/oauth/oauthchooseaccount?response_type=code&client_id="+t.form.client_id+"&redirect_uri="+t.form.redirect_url+"&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fadmin.directory.user&prompt=consent&state="+t.state+"&access_type=offline&flowName=GeneralOAuthFlow"}},[t._v("Google")])])],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),t.stepOne?n("v-btn",{attrs:{color:"primary"},on:{click:t.saveIntegration}},[t._v("\n          "+t._s(t.$t("buttons.submit"))+"\n        ")]):t._e()],1)],1)],1)],1)}),[],!1,null,null,null),j=D.exports;l()(D,{VBtn:d.a,VCard:v.a,VCardActions:$.a,VCardText:$.b,VCardTitle:$.c,VContainer:f.a,VDialog:C.a,VDivider:w.a,VForm:k.a,VRow:_.a,VSpacer:V.a,VTextField:x.a});var B={name:"GoogleLoginConnectDialog",data:function(){return{form:{integration:3},dialog:!1}},methods:{saveIntegration:function(){var t=this;this.$integrations.saveGoogleLoginKey(this.form).then((function(){t.dialog=!1,t.$store.commit("setGoogleLoginKey")})).catch((function(t){console.log(t)}))}}},A=Object(o.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{color:"primary",dark:""}},r),[t._v("\n        Connect\n      ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n        Connect Google\n      ")]),t._v(" "),n("v-card-text",[n("v-form",{staticClass:"mt-3"},[n("v-container",[n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_id"),required:""},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.client_secret"),required:""},model:{value:t.form.client_secret,callback:function(e){t.$set(t.form,"client_secret",e)},expression:"form.client_secret"}})],1),t._v(" "),n("v-row",[n("v-text-field",{staticClass:"mt-2 py-0 mb-0",attrs:{label:t.$t("settings.integrations.redirect_url"),required:""},model:{value:t.form.redirect_url,callback:function(e){t.$set(t.form,"redirect_url",e)},expression:"form.redirect_url"}})],1)],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.saveIntegration}},[t._v("\n          "+t._s(t.$t("buttons.submit"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null),E=A.exports;l()(A,{VBtn:d.a,VCard:v.a,VCardActions:$.a,VCardText:$.b,VCardTitle:$.c,VContainer:f.a,VDialog:C.a,VDivider:w.a,VForm:k.a,VRow:_.a,VSpacer:V.a,VTextField:x.a});var G={layout:"admin",components:{GoogleLoginConnectDialog:E,SlackConnectDialog:I,IntegrationItem:h,GoogleAPIConnectDialog:j},data:function(){return{dialog:!1,loading:!1}}},P=Object(o.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{attrs:{"offset-sm":"1",sm:"10"}},[n("v-row",{staticClass:"mb-4"},[n("v-col",{attrs:{sm:"6"}},[n("h1",{staticClass:"heading",staticStyle:{"margin-top":"5px"}},[t._v("\n        "+t._s(t.$t("settings.integrations.integrations"))+"\n      ")])])],1),t._v(" "),n("v-container",{staticClass:"pa-0"},[n("v-row",[n("IntegrationItem",{attrs:{title:t.$t("settings.integrations.slackBot"),description:t.$t("settings.integrations.slackBotExpl"),integration:0,connected:t.$store.state.org.slack_key}},[n("SlackConnectDialog",{attrs:{type:0}})],1),t._v(" "),n("IntegrationItem",{attrs:{title:t.$t("settings.integrations.slackAccount"),description:t.$t("settings.integrations.slackAccountExpl"),integration:1,connected:t.$store.state.org.slack_account_key}},[n("SlackConnectDialog",{attrs:{type:1}})],1),t._v(" "),n("IntegrationItem",{attrs:{title:t.$t("settings.integrations.googleAccounts"),description:t.$t("settings.integrations.googleAccountsDescr"),integration:2,connected:t.$store.state.org.google_key}},[n("GoogleAPIConnectDialog")],1),t._v(" "),n("IntegrationItem",{attrs:{title:t.$t("settings.integrations.googleLogin"),description:t.$t("settings.integrations.googleLoginDescr"),integration:3,connected:t.$store.state.org.google_login_key}},[n("GoogleLoginConnectDialog")],1)],1)],1)],1)}),[],!1,null,null,null);e.default=P.exports;l()(P,{VCol:m.a,VContainer:f.a,VRow:_.a})}}]);