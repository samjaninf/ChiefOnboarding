(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{663:function(e,t,n){var content=n(671);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("19b267cc",content,!0,{sourceMap:!1})},668:function(e,t,n){"use strict";n(127);var o=n(662),r=n.n(o),l={name:"ContentDisplay",props:{content:{default:function(){return[]},type:Array},disableMustache:{default:!1,type:Boolean}},methods:{getYoutubeLink:function(e){var t=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/;return null!==e.trim().match(t)&&2===e.trim().match(t).length?"https://youtube.com/embed/"+e.trim().match(t)[1]:""},mustaching:function(content){return this.disableMustache?content:void 0===content?"":r.a.render(content,this.$store.state.baseInfo.new_hire||this.$store.state.admins[0])},downloadFile:function(e){this.$newhirepart.getFileURL(e.id,e.uuid).then((function(e){window.open(e,"_blank")}))}}},c=(n(670),n(23)),d=n(24),m=n.n(d),v=n(215),h=n(175),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(i,t){return n("div",{key:t},["p"===i.type?n("p",[n("span",{domProps:{innerHTML:e._s(e.mustaching(i.content))}})]):e._e(),e._v(" "),"h1"===i.type?n("h1",[n("span",{domProps:{innerHTML:e._s(e.mustaching(i.content))}})]):e._e(),e._v(" "),"h2"===i.type?n("h2",[n("span",{domProps:{innerHTML:e._s(e.mustaching(i.content))}})]):e._e(),e._v(" "),"h3"===i.type?n("h3",[n("span",{domProps:{innerHTML:e._s(e.mustaching(i.content))}})]):e._e(),e._v(" "),"ul"===i.type?n("ul",{staticClass:"mb-3"},e._l(i.items,(function(t){return n("li",[n("span",{domProps:{innerHTML:e._s(e.mustaching(t.content))}})])})),0):e._e(),e._v(" "),"file"===i.type?n("h3",[n("label",[e._v("Files")]),n("br"),e._v(" "),e._l(i.files,(function(t,o){return n("v-chip",{key:o,on:{click:function(n){return e.downloadFile(t)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])}))],2):e._e(),e._v(" "),"image"===i.type&&i.files.length?n("h3",[n("v-img",{attrs:{src:i.files[0].file_url}})],1):e._e(),e._v(" "),"video"===i.type&&i.files.length?n("div",[n("video",{staticStyle:{width:"100%"},attrs:{controls:""}},[n("source",{attrs:{src:i.files[0].file_url,type:"video/"+i.files[0].ext}})])]):e._e(),e._v(" "),"youtube"===i.type?n("div",[""!==e.getYoutubeLink(i.content)?n("iframe",{attrs:{src:e.getYoutubeLink(i.content),width:"560",height:"315",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()]):e._e(),e._v(" "),"quote"===i.type?n("blockquote",{style:"border-left-color: "+e.$store.state.baseInfo.org.base_color},[e._v("\n      "+e._s(i.content)+"\n    ")]):e._e()])})),0)}),[],!1,null,null,null);t.a=component.exports;m()(component,{VChip:v.a,VImg:h.a})},669:function(e,t,n){var content=n(674);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("87b00410",content,!0,{sourceMap:!1})},670:function(e,t,n){"use strict";n(663)},671:function(e,t,n){var o=n(16)(!1);o.push([e.i,"blockquote,h1,h2,h3{margin-bottom:10px}blockquote{margin-top:10px;padding:20px 30px;background:#f9f9f9;border-left:2px solid #ffbb42}p{margin-bottom:20px!important}",""]),e.exports=o},673:function(e,t,n){"use strict";n(669)},674:function(e,t,n){var o=n(16)(!1);o.push([e.i,".v-file input[type=file][data-v-62316f79]{display:none}",""]),e.exports=o},675:function(e,t,n){"use strict";n(21),n(25);var o={name:"UploadNewHireFile",props:{value:{type:Array,default:function(){return[]}},label:{type:String,default:"File input"},color:{required:!0,type:String}},data:function(e){return{uploadingFile:!1}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0}},methods:{upload:function(e){var t=this;this.uploadingFile=!0,this.$org.getPreSignedURL({name:e.name}).then((function(data){t.$org.uploadToAWS(data.url,e).then((function(){t.$org.confirmUploaded(data.id).then((function(e){t.value=e}))}))}))}}},r=(n(673),n(23)),l=n(24),c=n.n(l),d=n(865),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-file-input",{staticClass:"mt-2",attrs:{color:e.color,label:e.label,placeholder:"Select your file","prepend-icon":"mdi-paperclip",outlined:""},on:{change:e.upload},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})}),[],!1,null,"62316f79",null),m=component.exports;c()(component,{VFileInput:d.a});var v={name:"CustomForm",components:{UploadForm:m},props:{value:{type:Array,required:!0},org:{type:Object,required:!0},id:{type:Number,required:!0},external:{type:Boolean,default:!1}},data:function(){return{formPart:[]}},watch:{formPart:{handler:function(e){this.$emit("input",e)},deep:!0}},mounted:function(){var e=this;setTimeout((function(){e.formPart=JSON.parse(JSON.stringify(e.value))}),200)}},h=n(712),f=n(713),_=n(714),y=n(65),x=n(655),$=Object(r.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-3 formpart"},e._l(e.value,(function(i,t){return n("div",{key:t},["input"===i.type?n("div",[n("v-text-field",{staticClass:"my-0",attrs:{color:e.org.base_color,label:i.text,outline:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"i.value"}})],1):e._e(),e._v(" "),"upload"===i.type?n("div",[n("UploadForm",{attrs:{id:e.id,label:i.text,color:e.org.base_color},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"i.value"}})],1):e._e(),e._v(" "),"text"===i.type?n("div",[n("v-textarea",{staticClass:"my-0",attrs:{color:e.org.base_color,label:i.text,outline:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"i.value"}})],1):e._e(),e._v(" "),"check"===i.type?n("div",[n("p",{staticStyle:{color:"rgba(0,0,0,.54)"}},[e._v("\n        "+e._s(i.text)+"\n      ")]),e._v(" "),e._l(i.items,(function(t){return n("v-checkbox",{key:t.name,staticClass:"my-0",attrs:{color:e.org.base_color,label:t.name},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"n.value"}})}))],2):e._e(),e._v(" "),"select"===i.type?n("div",[n("v-radio-group",{attrs:{label:i.text,color:e.org.base_color},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"i.value"}},e._l(i.options,(function(t){return n("v-radio",{key:t.name,attrs:{color:e.org.base_color,label:t.name,value:t.name}})})),1)],1):e._e()])})),0)}),[],!1,null,null,null);t.a=$.exports;c()($,{VCheckbox:h.a,VRadio:f.a,VRadioGroup:_.a,VTextField:y.a,VTextarea:x.a})},678:function(e,t,n){"use strict";n(7);var o=n(662),r=n.n(o),l=n(668),c=n(675),d={name:"PreboardingPage",components:{ContentDisplay:l.a,CustomForm:c.a},props:{pages:{type:Array,required:!0},newHire:{type:Object,required:!0},org:{type:Object,required:!0},completedTodos:{type:Array,default:function(){return[]}},disableMustache:{type:Boolean,default:!1}},data:function(){return{form:[],dialogForm:[],index:0,showModal:!1,sendingForm:!1,submittingForm:!1}},computed:{page:function(){return this.pages[this.index]}},methods:{Mustaching:function(content){return this.disableMustache?content:r.a.render(content,this.newHire)},clickNext:function(){this.index++,this.index>this.pages.length-1&&(this.index=0),this.form=[]},sendFormBack:function(){var e=this;this.sendingForm=!0,this.$newhirepreboarding.sendFormBack({id:this.pages[this.index].page_id,form:this.form}).then((function(data){e.pages[e.index].completed=!0})).finally((function(){e.sendingForm=!1}))}}},m=n(23),v=n(24),h=n.n(v),f=n(140),_=n(208),y=n(43),x=n(68),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{attrs:{color:"org.base_color",dark:"",extended:"",flat:""}}),e._v(" "),e.page?n("v-card",{staticClass:"mx-auto mb-4",staticStyle:{"margin-top":"-64px"},attrs:{"max-width":"590"}},[n("v-card-title",[n("h2",[e._v("\n        "+e._s(e.Mustaching(e.page.name))+"\n      ")])]),e._v(" "),n("v-card-text",[null!==e.page.content&&e.page.content.length?n("ContentDisplay",{attrs:{content:e.page.content,"disable-mustache":e.disableMustache}}):n("div",e._l(e.page.content,(function(t){return n("div",{key:t.id},[n("blockquote",{staticClass:"blockquote"},[e._v("\n            "+e._s(t.message)+"\n          ")])])})),0),e._v(" "),e.page.completed?e._e():n("CustomForm",{attrs:{id:e.page.id,org:e.org},on:{input:function(t){e.form=arguments[0]}},model:{value:e.page.form,callback:function(t){e.$set(e.page,"form",t)},expression:"page.form"}}),e._v(" "),e.page.form.length>0&&!e.page.completed?n("v-btn",{staticStyle:{"margin-left":"0px"},attrs:{color:e.org.base_color,loading:e.sendingForm,dark:""},on:{click:e.sendFormBack}},[e._v("\n        "+e._s(e.$t("buttons.submit"))+"\n      ")]):e._e(),e._v(" "),e.page.completed?n("div",[n("p",[e._v(e._s(e.$t("preboarding.completedForm")))])]):e._e(),e._v(" "),e.pages.length>1?n("div",{staticClass:"text-center mt-2"},[n("v-btn",{staticStyle:{color:"white"},attrs:{color:e.org.base_color},on:{click:e.clickNext}},[e._v("\n          "+e._s(e.$t("buttons.next"))+" ->\n        ")])],1):e._e()],1)],1):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;h()(component,{VBtn:f.a,VCard:_.a,VCardText:y.b,VCardTitle:y.c,VToolbar:x.a})},679:function(e,t,n){var content=n(695);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("b6e4e76a",content,!0,{sourceMap:!1})},680:function(e,t,n){var content=n(697);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("19ac091a",content,!0,{sourceMap:!1})},681:function(e,t,n){"use strict";n(7),n(25),n(44),n(21);var o={props:{index:{type:Number,required:!0},type:{type:String,required:!0},items:{type:Array,required:!0},removable:{default:!0,type:Boolean},remind:{default:!1,type:Boolean}},data:function(){return{icons:[{name:"slack_messages",icon:"fab fa-slack-hash"},{name:"to_do",icon:"far fa-check-square"},{name:"resources",icon:"far fa-folder"},{name:"introductions",icon:"far fa-user-circle"},{name:"badges",icon:"far fa-arrow-alt-circle-right"},{name:"text_messages",icon:"far fa-comment"},{name:"emails",icon:"far fa-envelope"},{name:"admin_tasks",icon:"fas fa-tasks"},{name:"appointments",icon:"far fa-calendar-alt"},{name:"preboarding",icon:"fas fa-align-left"},{name:"introductions",icon:"far fa-user-circle"}]}},computed:{icon:function(){var e=this;return this.icons.find((function(a){return a.name===e.type}))}},methods:{remove:function(e){-1!==this.index?this.$store.commit("sequences/removeItem",{block:this.index,id:e,type:this.type}):this.$emit("removeUnconditionedItem",{id:e,type:this.type})},sendToParent:function(e,t){this.$emit("openItem",{index:this.index,_index:e,type:this.type,id:t})},remindNewHire:function(e){var t=this;e.loading=!0,this.$newhires.remindToDo(e.task_id).then((function(){e.reminded=new Date,t.$store.dispatch("showSnackbar",t.$t("sequence.reminderSent"))})).finally((function(){e.loading=!1}))}}},r=(n(694),n(23)),l=n(24),c=n.n(l),d=n(140),m=n(644),v=n(648),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,(function(t,o){return n("v-row",{key:o},[n("v-col",{staticClass:"py-0",class:{pointer:e.removable},attrs:{sm:"11"},on:{click:function(n){return e.sendToParent(o,t.id)}}},[n("i",{class:e.icon.icon+" mar7"}),e._v(" "),"task"===e.type?n("span",[e._v(e._s(t.todo))]):n("span",[e._v(e._s(t.name))]),e._v(" "),e.remind&&!t.completed?n("v-btn",{staticStyle:{margin:"0px 10px"},attrs:{disabled:!("task_id"in t),loading:t.loading,small:""},on:{click:function(n){return e.remindNewHire(t)}}},[e._v("\n        "+e._s(e.$t("sequence.remindNewHire"))+"\n      ")]):e._e()],1),e._v(" "),e.removable?n("v-col",{staticClass:"red-remove py-0",attrs:{sm:"1"},on:{click:function(n){return e.remove(t.id)}}},[n("i",{staticClass:"far fa-times-circle",class:{pointer:e.removable},staticStyle:{top:"2px",position:"relative"}})]):e._e()],1)})),1)}),[],!1,null,"5e17a5e6",null);t.a=component.exports;c()(component,{VBtn:d.a,VCol:m.a,VRow:v.a})},688:function(e,t,n){var content=n(689);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("beda1088",content,!0,{sourceMap:!1})},689:function(e,t,n){var o=n(16)(!1);o.push([e.i,".theme--light.v-input--switch .v-input--switch__thumb{color:#fff}.theme--light.v-input--switch .v-input--switch__track{color:rgba(0,0,0,.38)}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#fafafa!important}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:rgba(0,0,0,.12)!important}.theme--dark.v-input--switch .v-input--switch__thumb{color:#bdbdbd}.theme--dark.v-input--switch .v-input--switch__track{color:hsla(0,0%,100%,.3)}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#424242!important}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:hsla(0,0%,100%,.1)!important}.v-input--switch__thumb,.v-input--switch__track{background-color:currentColor;pointer-events:none;transition:inherit}.v-input--switch__track{border-radius:8px;width:36px;height:14px;left:2px;position:absolute;opacity:.6;right:2px;top:calc(50% - 7px)}.v-input--switch__thumb{border-radius:50%;top:calc(50% - 10px);height:20px;position:relative;width:20px;display:flex;justify-content:center;align-items:center;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-input--switch .v-input--selection-controls__input{width:38px}.v-input--switch .v-input--selection-controls__ripple{top:calc(50% - 24px)}.v-input--switch.v-input--dense .v-input--switch__thumb{width:18px;height:18px}.v-input--switch.v-input--dense .v-input--switch__track{height:12px;width:32px}.v-input--switch.v-input--dense.v-input--switch--inset .v-input--switch__track{height:22px;width:44px;top:calc(50% - 12px);left:-3px}.v-input--switch.v-input--dense .v-input--selection-controls__ripple{top:calc(50% - 22px)}.v-input--switch.v-input--is-dirty.v-input--is-disabled{opacity:.6}.v-application--is-ltr .v-input--switch .v-input--selection-controls__ripple{left:-14px}.v-application--is-ltr .v-input--switch.v-input--dense .v-input--selection-controls__ripple{left:-12px}.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)}.v-application--is-rtl .v-input--switch .v-input--selection-controls__ripple{right:-14px}.v-application--is-rtl .v-input--switch.v-input--dense .v-input--selection-controls__ripple{right:-12px}.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(-20px)}.v-input--switch:not(.v-input--switch--flat):not(.v-input--switch--inset) .v-input--switch__thumb{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-input--switch--inset .v-input--selection-controls__input,.v-input--switch--inset .v-input--switch__track{width:48px}.v-input--switch--inset .v-input--switch__track{border-radius:14px;height:28px;left:-4px;opacity:.32;top:calc(50% - 14px)}.v-application--is-ltr .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset .v-input--switch__thumb{transform:translate(0)!important}.v-application--is-rtl .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset .v-input--switch__thumb{transform:translate(-6px)!important}.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)!important}.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(-26px)!important}",""]),e.exports=o},690:function(e,t,n){"use strict";var o=n(662),r=n.n(o),l={name:"IntroductionItem",props:{title:{type:String,default:""},user:{type:Object,default:function(){return{}}},disableMustache:{type:Boolean,default:!1}},computed:{message:function(){return this.disableMustache?this.user.message:r.a.render(this.user.message,this.$store.state.baseInfo.new_hire)}}},c=n(23),d=n(24),m=n.n(d),v=n(208),h=n(43),f=n(175),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.title))]),e._v(" "),n("v-card",{attrs:{"max-width":"344",outlined:""}},[null!==e.user.profile_image?n("v-img",{staticClass:"white--text align-end",attrs:{src:e.user.profile_image.file_url,height:"200px"}}):e._e(),e._v(" "),n("v-card-text",{staticClass:"text--primary"},[n("h4",[e._v(e._s(e.user.first_name)+" "+e._s(e.user.last_name))]),e._v(" "),n("div",[e._v(e._s(e.message))]),e._v(" "),""!==e.user.linkedin?n("a",{attrs:{href:e._f("addHTTPS")(e.user.linkedin)}},[n("font-awesome-icon",{staticStyle:{color:"#0077b5 !important"},attrs:{icon:["fab","linkedin"]}})],1):e._e(),e._v(" "),""!==e.user.facebook?n("a",{attrs:{href:e._f("addHTTPS")(e.user.facebook)}},[n("font-awesome-icon",{staticStyle:{color:"#3b5998 !important"},attrs:{icon:["fab","facebook"]}})],1):e._e(),e._v(" "),""!==e.user.twitter?n("a",{attrs:{href:e._f("addHTTPS")(e.user.twitter)}},[n("font-awesome-icon",{staticStyle:{color:"#1da1f2 !important"},attrs:{icon:["fab","twitter"]}})],1):e._e(),e._v(" "),""!==e.user.email?n("a",{attrs:{href:"mailto:"+e.user.email}},[n("font-awesome-icon",{staticStyle:{color:"green !important"},attrs:{icon:["fas","envelope"]}})],1):e._e(),e._v(" "),""!==e.user.phone?n("a",{attrs:{href:"tel:"+e.user.phone}},[n("font-awesome-icon",{staticStyle:{color:"gray !important"},attrs:{icon:["fas","phone-square"]}})],1):e._e()])],1)],1)}),[],!1,null,null,null);t.a=component.exports;m()(component,{VCard:v.a,VCardText:h.b,VImg:f.a})},691:function(e,t,n){"use strict";var o={components:{PreboardingPage:n(678).a},props:{value:{type:Object,required:!0},errors:{type:Object,required:!0},inline:{type:Boolean,default:!1}},data:function(){return{dialog:!1,search:""}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])}}},r=n(23),l=n(24),c=n.n(l),d=n(140),m=n(208),v=n(644),h=n(652),f=n(646),_=n(119),y=n(648),x=n(649),$=n(68),k=n(111),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"py-2 px-0"},[n("v-row",[n("v-col",{attrs:{sm:"4"}},[n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("forms.title"),errors:e.errorMessages.name},on:{removeError:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:e.value.tags,callback:function(t){e.$set(e.value,"tags",t)},expression:"value.tags"}})],1),e._v(" "),n("v-dialog",{staticClass:"mt-3",attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-col",{attrs:{sm:"12"}},[n("v-btn",e._g({attrs:{color:"dark",dark:""}},o),[e._v("\n              "+e._s(e.$t("preboarding.previewPage"))+"\n            ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"dark"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("close")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("newhires.preview")))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                Close\n              ")])],1)],1),e._v(" "),n("PreboardingPage",{attrs:{pages:[e.value],"new-hire":e.$store.state.newhires.all[0],org:e.$store.state.org,"disable-mustache":""}})],1)],1)],1),e._v(" "),n("v-col",{attrs:{sm:"8"}},[n("Editor",{ref:"editor",model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}}),e._v(" "),n("CustomForm",{model:{value:e.value.form,callback:function(t){e.$set(e.value,"form",t)},expression:"value.form"}})],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCard:m.a,VCol:v.a,VContainer:h.a,VDialog:f.a,VIcon:_.a,VRow:y.a,VSpacer:x.a,VToolbar:$.a,VToolbarItems:k.a,VToolbarTitle:k.b})},694:function(e,t,n){"use strict";n(679)},695:function(e,t,n){var o=n(16)(!1);o.push([e.i,".mar7[data-v-5e17a5e6]{margin-right:7px;width:12.25px}.pointer[data-v-5e17a5e6]{cursor:pointer}.red-remove[data-v-5e17a5e6]{margin-top:-2px}",""]),e.exports=o},696:function(e,t,n){"use strict";n(680)},697:function(e,t,n){var o=n(16)(!1);o.push([e.i,".emoji-card[data-v-02928870]{overflow-y:scroll;height:200px;width:100%;padding:4px}button[data-v-02928870]{padding-right:4px}.remove[data-v-02928870]{color:#fff}",""]),e.exports=o},698:function(e,t,n){"use strict";n(35),n(36),n(7),n(44),n(82);var o={name:"ResourceQuestions",props:{value:{type:Array,default:function(){return[]}}},methods:{addQuestion:function(){var e=this.getRandomString();this.value.push({content:this.$t("resource.whatsThe"),items:[{id:e,text:""}],type:"question",answer:e})},addItem:function(e){e.push({text:"",id:this.getRandomString()})},setAnswer:function(e,t,n){this.value[n].answer=e[t].id},getRandomString:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}},r=n(23),l=n(24),c=n.n(l),d=n(140),m=n(65),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(i,t){return n("div",{key:"q"+t},[n("v-text-field",{attrs:{label:e.$t("resource.question"),filled:"","hide-details":"","append-icon":"close"},on:{"click:append":function(n){return e.value.splice(t,1)}},model:{value:i.content,callback:function(t){e.$set(i,"content",t)},expression:"i.content"}}),e._v(" "),e._l(i.items,(function(o,r){return n("div",{key:"o"+r},[n("v-text-field",{attrs:{label:e.$t("resource.option"),"prepend-icon":o.id===i.answer?"radio_button_checked":"radio_button_unchecked",filled:"","hide-details":"","append-icon":"close"},on:{"click:append":function(e){return i.items.splice(r,1)},"click:prepend":function(n){return e.setAnswer(i.items,r,t)}},model:{value:o.text,callback:function(t){e.$set(o,"text",t)},expression:"j.text"}})],1)})),e._v(" "),n("v-btn",{staticStyle:{"margin-left":"32px","margin-top":"4px","margin-bottom":"10px"},attrs:{depressed:""},on:{click:function(t){return e.addItem(i.items)}}},[e._v("\n      "+e._s(e.$t("buttons.add"))+"\n    ")])],2)})),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:e.addQuestion}},[e._v("\n    "+e._s(e.$t("resource.addQuestion"))+"\n  ")])],2)}),[],!1,null,null,null),v=component.exports;c()(component,{VBtn:d.a,VTextField:m.a});var h={name:"ResourceOptions",props:{disableEmoji:{default:!1,type:Boolean},removable:{default:!1,type:Boolean}},data:function(){return{menu:!1}},mounted:function(){this.disableEmoji&&(this.items=[{tab:"Personalize"}])},methods:{addSVG:function(e){this.$emit("clickedEmoji",e)},addPersonalize:function(e){this.$emit("clickedPersonalize",e)}}},f=(n(696),n(208)),_=n(211),y=n(216),x=Object(r.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("font-awesome-icon",e._g({staticStyle:{cursor:"pointer",color:"#f7ce85"},attrs:{icon:["fas","plus-circle"]}},o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-card",{staticClass:"pa-2"},[n("v-btn",{staticClass:"my-1 mb-2",attrs:{block:"",depressed:""},on:{click:function(t){return e.$emit("add",0)}}},[e._v("\n        Add page\n      ")]),e._v(" "),n("v-btn",{staticClass:"my-1",attrs:{block:"",depressed:""},on:{click:function(t){return e.$emit("add",1)}}},[e._v("\n        Add folder\n      ")]),e._v(" "),n("v-btn",{attrs:{block:"",depressed:""},on:{click:function(t){return e.$emit("add",2)}}},[e._v("\n        Add questions\n      ")]),e._v(" "),n("v-divider"),e._v(" "),n("v-btn",{staticClass:"my-1 mt-2",attrs:{block:"",depressed:""},on:{click:function(t){return e.$emit("moveUp")}}},[e._v("\n        move up\n      ")]),e._v(" "),n("v-btn",{staticClass:"my-1 mb-2",attrs:{block:"",depressed:""},on:{click:function(t){return e.$emit("moveDown")}}},[e._v("\n        move down\n      ")]),e._v(" "),n("v-divider"),e._v(" "),n("v-btn",{staticClass:"remove mt-2",attrs:{block:"",depressed:"",color:"red"},on:{click:function(t){return e.$emit("removeItem")}}},[e._v("\n        remove\n      ")])],1)],1)],1)}),[],!1,null,"02928870",null),$=x.exports;c()(x,{VBtn:d.a,VCard:f.a,VDivider:_.a,VMenu:y.a});var k={components:{ResourceOptions:$,ResourceQuestions:v},props:{value:{type:Object,default:function(){return{resources:[]}}},errors:{type:Object,required:!0},inline:{type:Boolean,default:!1}},data:function(e){return{tree:[],search:"",panel:1,chapterId:1,innerChapter:-1,doNotChange:!1,chapter:{},parent:[]}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},tree:function(e){this.getChapter()},errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])}},mounted:function(){this.chapter=this.value.chapters[0],this.tree=[this.value.chapters[0].id],this.value.course&&(this.panel=[!0,!0])},methods:{move:function(e,t){this.findParent(this.value.chapters,e.id);var n=this.parent.findIndex((function(a){return a.id===e.id}));n+1===this.parent.length&&1===t||0===n&&-1===t||(this.parent.splice(n,1),this.parent.splice(n+t,0,e))},getChapter:function(){var e=this;this.findParent(this.value.chapters,this.tree[0]),this.chapter=null===this.parent?{}:this.parent.find((function(a){return a.id===e.tree[0]})),void 0!==this.$refs.edit&&"content"in this.chapter&&this.$refs.edit.formatDataToEditorHTML(this.chapter.content)},add:function(e,t){this.findParent(this.value.chapters,e.id);var n=this.parent.findIndex((function(a){return a.id===e.id})),o={id:this.getRandomString(),type:t,name:"New item",content:[],files:[]};1===t&&(o.chapters=[{id:this.getRandomString(),type:0,name:"New item",content:[],files:[]}]),this.parent.splice(n+1,0,o)},removeItem:function(e){if(this.findParent(this.value.chapters,e.id),1!==this.parent.length){var t=this.parent.findIndex((function(a){return a.id===e.id}));this.parent.splice(t,1)}else this.$store.dispatch("showSnackbar","You can't delete the last item.")},findParent:function(source,e){if(void 0!==e){var t;for(t in source){var n=source[t];if(n.id===e)return void(this.parent=source);if(n.chapters)if(this.findParent(n.chapters,e))return void(this.parent=n.chapters)}return null}this.parent=null},getRandomString:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}},w=n(644),C=n(645),S=n(652),T=n(648),I=n(716),V=n(928),M=Object(r.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"py-4 px-0"},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("forms.title"),errors:e.errorMessages.name},on:{removeError:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:e.value.tags,callback:function(t){e.$set(e.value,"tags",t)},expression:"value.tags"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("label",[e._v(" "+e._s(e.$t("resource.chapters")))]),e._v(" "),n("v-treeview",{attrs:{items:e.value.chapters,active:e.tree,activatable:"","item-key":"id","item-children":"chapters"},on:{"update:active":function(t){e.tree=t}},scopedSlots:e._u([{key:"prepend",fn:function(e){var t=e.item;return[1===t.type?n("font-awesome-icon",{attrs:{icon:["far","folder"]}}):2===t.type?n("font-awesome-icon",{attrs:{icon:["far","question-circle"]}}):n("font-awesome-icon",{attrs:{icon:["far","file"]}})]}},{key:"append",fn:function(t){var o=t.item;return[n("ResourceOptions",{on:{removeItem:function(t){return e.removeItem(o)},moveUp:function(t){return e.move(o,-1)},moveDown:function(t){return e.move(o,1)},add:function(t){for(var i=arguments.length,n=Array(i);i--;)n[i]=arguments[i];return e.add.apply(void 0,[o].concat(n))}}})]}}])})],1),e._v(" "),n("v-col",{staticClass:"py-0"},[n("v-combobox",{attrs:{items:e.$store.state.categories,label:e.$t("resource.cat")},model:{value:e.value.category,callback:function(t){e.$set(e.value,"category",t)},expression:"value.category"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("v-switch",{staticClass:"mt-0",attrs:{label:e.$t("resource.thisIsACourse")},model:{value:e.value.course,callback:function(t){e.$set(e.value,"course",t)},expression:"value.course"}})],1),e._v(" "),e.value.course?n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:e.$t("resource.dueOnWorkday"),"error-messages":e.errorMessages.when,type:"number"},on:{keyup:function(t){e.errorMessages.when=""}},model:{value:e.value.on_day,callback:function(t){e.$set(e.value,"on_day",t)},expression:"value.on_day"}})],1):e._e()],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("resource.chapterTitle")},model:{value:e.chapter.name,callback:function(t){e.$set(e.chapter,"name",t)},expression:"chapter.name"}}),e._v(" "),"content"in e.chapter?1===e.chapter.type?n("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[n("p",[e._v("You can only change the title of a folder.")])]):n("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[0===e.chapter.type?n("div",[n("Editor",{ref:"edit",model:{value:e.chapter.content,callback:function(t){e.$set(e.chapter,"content",t)},expression:"chapter.content"}})],1):n("ResourceQuestions",{model:{value:e.chapter.content,callback:function(t){e.$set(e.chapter,"content",t)},expression:"chapter.content"}})],1):n("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[n("p",[e._v("Please select a page or question part")])])],1)],1)],1)}),[],!1,null,null,null);t.a=M.exports;c()(M,{VCol:w.a,VCombobox:C.a,VContainer:S.a,VRow:T.a,VSwitch:I.a,VTextField:m.a,VTreeview:V.a})},699:function(e,t,n){"use strict";var o={components:{IntroductionItem:n(690).a},props:{value:{type:Object,default:function(){return{}}},errors:{type:Object,default:function(){return{}}}},data:function(e){return{search:"",text:e.$t("intro.placeholders")}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},"value.intro_person":function(e){this.value.intro_person_id=e.id},errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])}}},r=n(23),l=n(24),c=n.n(l),d=n(126),m=n(644),v=n(652),h=n(648),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-md":"","pa-4":""}},[n("v-row",[n("v-col",{attrs:{xs:"4"}},[n("v-col",{attrs:{xs:"12"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("intro.title"),errors:e.errorMessages.name},on:{removeError:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),n("v-col",{attrs:{xs:"12"}},[n("v-autocomplete",{attrs:{items:e.$store.state.employees.all,label:e.$t("intro.selectEmployee"),"error-messages":e.errorMessages.intro_person,"item-text":"full_name","return-object":""},on:{change:function(t){e.errorMessages.intro_person=""}},model:{value:e.value.intro_person,callback:function(t){e.$set(e.value,"intro_person",t)},expression:"value.intro_person"}})],1),e._v(" "),n("v-col",{attrs:{xs:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:e.value.tags,callback:function(t){e.$set(e.value,"tags",t)},expression:"value.tags"}})],1)],1),e._v(" "),n("v-col",{staticStyle:{"margin-left":"20px"},attrs:{xs:"8"}},[e.value.intro_person?n("div",[n("IntroductionItem",{attrs:{title:e.value.name,user:e.value.intro_person,"disable-mustache":""}})],1):e._e(),e._v(" "),n("div",[n("i",{staticStyle:{"font-size":"12px",top:"10px",position:"relative"}},[e._v(e._s(e.text)+" ")])])])],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VAutocomplete:d.a,VCol:m.a,VContainer:v.a,VRow:h.a})},700:function(e,t,n){"use strict";var o={props:{value:{type:Object,required:!0},errors:{type:Object,required:!0},inline:{type:Boolean,default:!1}},data:function(){return{search:""}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])}}},r=n(23),l=n(24),c=n.n(l),d=n(712),m=n(644),v=n(645),h=n(652),f=n(648),_=n(65),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"py-2 px-0"},[n("v-row",[n("v-col",{attrs:{sm:"4"}},[n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("forms.title"),errors:e.errorMessages.name},on:{removeError:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-text-field",{attrs:{label:e.$t("resource.dueOnWorkday"),"error-messages":e.errorMessages.due_on_day,type:"number"},on:{keyup:function(t){e.errorMessages.due_on_day=""}},model:{value:e.value.due_on_day,callback:function(t){e.$set(e.value,"due_on_day",t)},expression:"value.due_on_day"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:e.value.tags,callback:function(t){e.$set(e.value,"tags",t)},expression:"value.tags"}})],1)],1),e._v(" "),n("v-col",{staticClass:"pl-4",attrs:{sm:"8"}},[n("Editor",{ref:"editor",model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}}),e._v(" "),"form"in e.value?n("CustomForm",{model:{value:e.value.form,callback:function(t){e.$set(e.value,"form",t)},expression:"value.form"}}):e._e(),e._v(" "),e.$store.state.org.slack_key&&"form"in e.value&&e.value.form.length?n("v-col",{attrs:{sm:"12"}},[n("v-checkbox",{attrs:{label:e.$t("todo.sendFormBack")},model:{value:e.value.send_back,callback:function(t){e.$set(e.value,"send_back",t)},expression:"value.send_back"}}),e._v(" "),e.value.send_back?n("div",[n("v-combobox",{attrs:{items:e.$store.state.slackChannels,label:e.$t("todo.selectSlackChannel"),hint:e.$t("todo.botInvited"),"persistent-hint":!0},model:{value:e.value.channel,callback:function(t){e.$set(e.value,"channel",t)},expression:"value.channel"}})],1):e._e()],1):e._e()],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VCheckbox:d.a,VCol:m.a,VCombobox:v.a,VContainer:h.a,VRow:f.a,VTextField:_.a})},706:function(e,t,n){"use strict";n(25),n(37);var o=n(3),r=n.n(o),l={name:"AdminTaskForm",props:{value:{type:Object,required:!0},errors:{type:Object,required:!0},newHireReadOnly:{type:Boolean,default:!1},personalize:{type:Boolean,default:!1},noNewHire:{type:Boolean,default:!1},showLastField:{type:Boolean,default:!0},fullReadOnly:{type:Boolean,default:!1}},data:function(e){return{menu1:!1,states:[{name:e.$t("hrTask.low"),id:1},{name:e.$t("hrTask.medium"),id:2},{name:e.$t("hrTask.high"),id:3}]}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))},pickSomeone:function(){return this.$store.state.slackPeople.map((function(e){return e.name+" ("+e.id+")"}))},computedDateFormattedMomentjs:function(){var e="";return this.value.date?(e=r()(this.value.date),"nl"===this.$store.state.org.language?e.format("dddd, D MMMM YYYY"):e.format("dddd, MMMM Do YYYY")):e}},watch:{errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])},value:{handler:function(e){this.$emit("input",e)},deep:!0},"value.slack":function(e){this.value.email_slack=e},"value.email":function(e){this.value.email_slack=e},"value.assigned_to":function(e){this.value.assigned_to_id=e.id},"value.new_hire":function(e){this.value.new_hire_id=e.id}}},c=n(23),d=n(24),m=n.n(d),v=n(126),h=n(644),f=n(872),_=n(216),y=n(34),x=n(65),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-text-field",{attrs:{label:e.$t("forms.name"),disabled:e.fullReadOnly,"error-messages":e.errorMessages.name},on:{keyup:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),e.noNewHire?e._e():n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-autocomplete",{attrs:{items:e.$store.state.newhires.all,disabled:e.newHireReadOnly||e.fullReadOnly,label:e.$t("hrTask.newHire"),"item-value":"email","return-object":"","item-text":"full_name"},model:{value:e.value.new_hire,callback:function(t){e.$set(e.value,"new_hire",t)},expression:"value.new_hire"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-autocomplete",{attrs:{items:e.$store.state.admins,label:e.$t("hrTask.assignedTo"),disabled:e.fullReadOnly,"return-object":"","item-value":"email","item-text":"full_name"},model:{value:e.value.assigned_to,callback:function(t){e.$set(e.value,"assigned_to",t)},expression:"value.assigned_to"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-menu",{attrs:{disabled:e.fullReadOnly,"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-text-field",e._g({attrs:{disabled:e.fullReadOnly,label:e.$t("hrTask.due"),"error-messages":e.errorMessages.date,readonly:"","prepend-icon":"event"},on:{keyup:function(t){e.errorMessages.date=""}},model:{value:e.computedDateFormattedMomentjs,callback:function(t){e.computedDateFormattedMomentjs=t},expression:"computedDateFormattedMomentjs"}},o))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[e._v(" "),n("v-date-picker",{attrs:{locale:e.$store.state.org.locale,disabled:e.fullReadOnly},on:{change:function(t){e.menu1=!1}},model:{value:e.value.date,callback:function(t){e.$set(e.value,"date",t)},expression:"value.date"}})],1)],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-select",{attrs:{items:e.states,label:e.$t("hrTask.priority"),disabled:e.fullReadOnly,"hide-details":"","prepend-icon":"far fa-flag","item-text":"name","item-value":"id"},model:{value:e.value.priority,callback:function(t){e.$set(e.value,"priority",t)},expression:"value.priority"}})],1),e._v(" "),e.showLastField?n("v-col",{staticStyle:{"margin-top":"10px"},attrs:{sm:"12"}},[n("VTextAreaEmoji",{attrs:{label:e.$t("hrTask.moreDetails"),personalize:e.personalize,emoji:!0,disabled:e.fullReadOnly},model:{value:e.value.comment,callback:function(t){e.$set(e.value,"comment",t)},expression:"value.comment"}})],1):e._e(),e._v(" "),e.showLastField?n("v-col",{staticClass:"py-0",attrs:{sm:"12"}},[n("v-select",{attrs:{items:[{text:e.$t("hrTask.doNotNotify"),option:"0"},{text:e.$t("hrTask.sendEmail"),option:"1"},{text:e.$t("hrTask.sendSlack"),option:"2"}],label:e.$t("hrTask.notify"),disabled:e.fullReadOnly,"hide-details":"","item-text":"text","item-value":"option"},model:{value:e.value.option,callback:function(t){e.$set(e.value,"option",t)},expression:"value.option"}})],1):e._e(),e._v(" "),e.showLastField&&"1"===e.value.option?n("v-col",{staticClass:"py-0",staticStyle:{"margin-top":"10px"},attrs:{sm:"12"}},[n("v-text-field",{attrs:{label:e.$t("hrTask.email"),type:"email"},model:{value:e.value.email,callback:function(t){e.$set(e.value,"email",t)},expression:"value.email"}})],1):e._e(),e._v(" "),e.showLastField&&"2"===e.value.option?n("v-col",{staticClass:"py-0",staticStyle:{"margin-top":"10px"},attrs:{sm:"12"}},[n("v-autocomplete",{attrs:{items:e.pickSomeone,label:e.$t("hrTask.pick")},model:{value:e.value.slack,callback:function(t){e.$set(e.value,"slack",t)},expression:"value.slack"}})],1):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;m()(component,{VAutocomplete:v.a,VCol:h.a,VDatePicker:f.a,VMenu:_.a,VSelect:y.a,VTextField:x.a})},707:function(e,t,n){"use strict";var o={components:{ContentDisplay:n(668).a},props:{value:{type:Object,required:!0},errors:{type:Object,required:!0},inline:{default:!1,type:Boolean}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(e){this.$emit("input",e)},deep:!0},"value.image":function(e){this.value.image_id=e.id},errors:function(e){"content"in e&&this.$store.dispatch("showSnackbar","Content: "+e.content[0])}}},r=n(23),l=n(24),c=n.n(l),d=n(140),m=n(644),v=n(652),h=n(648),f=n(212),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"py-4 px-0"},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("VTextFieldEmoji",{attrs:{label:e.$t("badge.name"),errors:e.errorMessages.name},on:{removeError:function(t){e.errorMessages.name=""}},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:e.value.tags,callback:function(t){e.$set(e.value,"tags",t)},expression:"value.tags"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("Editor",{model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}})],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("v-subheader",[e._v(" "+e._s(e.$t("badge.image"))+" ")]),e._v(" "),n("v-file",{staticStyle:{margin:"0"},model:{value:e.value.image,callback:function(t){e.$set(e.value,"image",t)},expression:"value.image"}})],1)],1),e._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[n("div",{staticClass:"inner",staticStyle:{"text-align":"center"}},[null!==e.value.image&&Object.keys(e.value.image).length?n("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.value.image.file_url,alt:"image"}}):e._e(),e._v(" "),n("div",[e._v("\n          "+e._s(e.$t("badge.unlocked"))+"\n          "),n("strong",[e._v(e._s(e.value.name))])]),e._v(" "),n("div",[n("ContentDisplay",{attrs:{content:e.value.content,"disable-mustache":""}})],1),e._v(" "),n("v-btn",{staticStyle:{margin:"10px auto"}},[e._v("\n          "+e._s(e.$t("buttons.close"))+"\n        ")])],1)])],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCol:m.a,VContainer:v.a,VRow:h.a,VSubheader:f.a})},708:function(e,t,n){"use strict";n(25),n(11),n(7),n(221);var o={name:"PreboardingModal",components:{PreboardingForm:n(691).a},props:{preboarding:{type:Object,default:function(){return{}}},value:Boolean},data:function(){return{loading:!1,nameError:[],errors:{},tempPreboarding:{name:"",data:[],when:"",content:"",tags:[],early_files:[]}}},watch:{value:function(e){0===Object.entries(this.preboarding).length?this.tempPreboarding={name:"",data:[],when:"",content:"",tags:[],early_files:[]}:this.tempPreboarding=JSON.parse(JSON.stringify(this.preboarding)),this.$store.commit("refreshEditor")}},methods:{addTodo:function(){var e=this;if(""===this.tempPreboarding.name||""===this.tempPreboarding.message)return""===this.tempPreboarding.name&&(this.nameError=[this.$t("forms.errors.fieldRequired")]),void(""===this.tempPreboarding.message&&this.$store.dispatch("showSnackbar",this.$t("forms.errors.content")));var t=-1;JSON.stringify(this.tempPreboarding)!==JSON.stringify(this.preboarding)?("id"in this.tempPreboarding&&(t=this.tempPreboarding.id,delete this.tempPreboarding.id),this.tempPreboarding.template=!1,this.loading=!0,this.$preboarding.create(this.tempPreboarding).then((function(data){data.type="todo",e.$emit("change",{add:data,remove:t}),e.$emit("input",!1)})).catch((function(t){t&&e.$store.dispatch("showSnackbar",e.$t("preboarding.couldNotSave"))})).finally((function(){e.loading=!1}))):this.$emit("input",!1)}}},r=n(23),l=n(24),c=n.n(l),d=n(140),m=n(208),v=n(43),h=n(646),f=n(649),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"900"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.$t("preboarding.item"))+"\n    ")]),e._v(" "),n("v-card-text",[n("PreboardingForm",{ref:"form",attrs:{errors:e.errors,inline:!0},model:{value:e.tempPreboarding,callback:function(t){e.tempPreboarding=t},expression:"tempPreboarding"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addTodo}},[e._v("\n        "+e._s(e.$t("buttons.add"))+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:h.a,VSpacer:f.a})},716:function(e,t,n){"use strict";n(15),n(10),n(12),n(11),n(7),n(13);var o=n(1),r=(n(666),n(688),n(667)),l=n(73),c=n(89),d=n(83),m=n(182),v=n(0);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=r.a.extend({name:"v-switch",directives:{Touch:c.a},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return f(f({},l.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",f(f({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",f({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",f({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(d.c,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(m.a,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===v.z.left&&this.isActive||e.keyCode===v.z.right&&!this.isActive)&&this.onChange()}}})},720:function(e,t,n){"use strict";n(82);var o=n(225),r=n.n(o),l=n(708),c={name:"PreboardingPart",components:{draggable:r.a,PreboardingModal:l.a},props:{value:{required:!0,type:Array},onNewHirePage:{default:!1,type:Boolean}},data:function(){return{showPreboardingModal:!1,showPreboardingItemsModal:!1,item:{}}},methods:{addItem:function(e){var t=this;this.onNewHirePage?this.$newhires.addTask(this.$route.params.id,{type:"preboarding",item:e}).then((function(data){t.value.push(data)})):this.value.push(e)},updateOrder:function(e){this.onNewHirePage?(this.value.forEach((function(e,t){e.order=t})),this.$newhires.changePreboardingOrder(this.$route.params.id,this.value)):this.$emit("input",this.value)},changedItem:function(e){this.removeItem(e.remove),this.addItem(e.add)},editItem:function(e){this.item=e,this.showPreboardingModal=!0},removeItem:function(e){var t=this;if(this.onNewHirePage)this.$newhires.deleteTask(this.$route.params.id,{type:"preboarding",item:{id:e}}).then((function(data){var n=t.value.findIndex((function(a){return a.id===e}));t.value.splice(n,1)})).catch((function(){t.$store.dispatch("showSnackbar",t.$t("newhires.notRemoved"))}));else{var n=this.value.findIndex((function(a){return a.id===e}));this.value.splice(n,1)}}}},d=n(23),m=n(24),v=n.n(m),h=n(140),f=n(208),_=n(43),y=n(644),x=n(648),$=n(746),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline-item",{attrs:{color:"dark",icon:"fas fa-star"}},[n("v-card",{attrs:{color:"dark",dark:""}},[n("v-card-title",{staticClass:"title",staticStyle:{"padding-bottom":"5px","padding-top":"5px"}},[n("v-row",[n("v-col",[e._v("Pre-boarding")]),e._v(" "),n("v-col",[n("v-btn",{staticClass:"ma-0",staticStyle:{float:"right"},attrs:{color:"secondary",small:""},on:{click:function(t){return e.$emit("openPreview")}}},[e._v("\n            "+e._s(e.$t("newhires.preview"))+"\n          ")]),e._v(" "),e.onNewHirePage?n("v-btn",{staticClass:"ma-0",staticStyle:{float:"right","margin-right":"11px !important"},attrs:{color:"secondary",small:""},on:{click:function(t){return e.$emit("openAccessModal")}}},[e._v("\n            "+e._s(e.$t("newhires.giveAccess"))+"\n          ")]):e._e(),e._v(" "),n("v-btn",{staticClass:"ma-0",staticStyle:{float:"right","margin-right":"11px !important"},attrs:{color:"primary",small:""},on:{click:function(t){e.showPreboardingItemsModal=!0}}},[e._v("\n            "+e._s(e.$t("buttons.add"))+"\n          ")])],1)],1)],1),e._v(" "),n("v-card-text",{staticClass:"white text--primary pt-3"},[n("draggable",{attrs:{disabled:!e.onNewHirePage},on:{change:e.updateOrder},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.value,(function(i,t){return n("v-row",{key:t,staticStyle:{cursor:"pointer"},on:{click:function(t){return e.editItem(i)}}},[n("v-col",{staticClass:"py-0",attrs:{sm:"11"}},[n("i",{staticClass:"fas fa-align-left mr-3"}),e._v(e._s(i.name)+"\n          ")]),e._v(" "),n("v-col",{staticClass:"red-remove py-0",attrs:{sm:"1"},on:{click:function(t){return t.stopPropagation(),e.removeItem(i.id)}}},[n("i",{staticClass:"far fa-times-circle pointer"})])],1)})),1),e._v(" "),0===e.value.length?n("p",[e._v("\n        "+e._s(e.$t("newhires.noItemsYet"))+"\n      ")]):e._e()],1)],1),e._v(" "),n("PreboardingModal",{attrs:{preboarding:e.item},on:{change:e.changedItem},model:{value:e.showPreboardingModal,callback:function(t){e.showPreboardingModal=t},expression:"showPreboardingModal"}}),e._v(" "),n("SelectTemplates",{attrs:{items:e.$store.state.preboarding.all},on:{clickedItem:e.addItem},model:{value:e.showPreboardingItemsModal,callback:function(t){e.showPreboardingItemsModal=t},expression:"showPreboardingItemsModal"}})],1)}),[],!1,null,null,null);t.a=component.exports;v()(component,{VBtn:h.a,VCard:f.a,VCardText:_.b,VCardTitle:_.c,VCol:y.a,VRow:x.a,VTimelineItem:$.a})},728:function(e,t,n){"use strict";n(44),n(82),n(32),n(41),n(25),n(10),n(21);var o=n(681),r={name:"TimelineItem",components:{CardLine:o.a},props:{i:{type:Object,required:!0},index:{type:Number,default:-1}},data:function(){return{amountOfDays:1,childIndex:0,openTimeModal:!1,openTaskModal:!1,openEmailModal:!1,openTextModal:!1,openResourceModal:!1,openTodoModal:!1,openSlackModal:!1,openBadgeModal:!1,newText:!1,newTime:!1,newEmail:!1,newTodo:!1,errors:{}}},computed:{hasNewHireItems:function(){return this.i.to_do.length||this.i.resources.length||this.i.badges.length||this.i.introductions.length||this.i.external_messages.filter((function(a){return 0===a.person_type})).length},hasAdminItems:function(){return this.i.admin_tasks.length||this.i.external_messages.filter((function(a){return 0!==a.person_type})).length},someItems:function(){return this.hasNewHireItems||this.hasAdminItems}},methods:{getAdminItems:function(e){return this.i.external_messages.filter((function(a){return 0!==a.person_type&&a.send_via===e}))},getNewHireItems:function(e){return this.i.external_messages.filter((function(a){return 0===a.person_type&&a.send_via===e}))},selfRemove:function(){this.$store.commit("sequences/removeTimeLineItem",{index:this.index})},openModal:function(e){this.$emit("sendBack",e)},changeTodos:function(e){this.$store.commit("sequences/changeCondition",{index:this.index,conditions:e})},changeDays:function(e){this.$store.commit("sequences/changeConditionDay",{index:this.index,day:e})}}},l=n(23),c=n(24),d=n.n(c),m=n(208),v=n(43),h=n(215),f=n(644),_=n(645),y=n(648),x=n(65),$=n(746),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline-item",{staticClass:"mb-1",attrs:{right:""}},[n("v-card",{attrs:{color:"#f5f5f5"}},[n("v-card-title",{staticClass:"title",staticStyle:{"padding-bottom":"0px","padding-top":"5px","max-height":"70px"}},[1===e.i.condition_type?n("div",{staticStyle:{width:"90%"}},[n("v-combobox",{attrs:{value:e.i.condition_to_do,items:e.$store.state.todos.all,label:e.$t("sequence.waitFor"),"item-text":"name","item-value":"id",multiple:"",chips:""},on:{change:e.changeTodos}})],1):e._e(),e._v(" "),0===e.i.condition_type?n("div",[n("span",{staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(e.$t("sequence.onDay"))+"\n          "),n("v-text-field",{staticStyle:{display:"inline-block",margin:"0px 5px",padding:"0px",width:"50px"},attrs:{value:e.i.days,required:"",type:"number"},on:{change:e.changeDays}})],1)]):e._e(),e._v(" "),2===e.i.condition_type?n("div",[n("span",{staticStyle:{"font-size":"15px"}},[n("v-text-field",{staticStyle:{display:"inline-block",margin:"0px 5px",padding:"0px",width:"50px"},attrs:{value:e.i.days,required:"",type:"number"},on:{change:e.changeDays}}),e._v(" "),e.i.days>1?n("span",[e._v(e._s(e.$t("sequence.daysBeforeStarting")))]):n("span",[e._v(" "+e._s(e.$t("sequence.dayBeforeStarting"))+" ")])],1)]):e._e(),e._v(" "),n("div",{staticClass:"red-remove",staticStyle:{position:"absolute",top:"10px",right:"15px"},on:{click:e.selfRemove}},[n("i",{staticClass:"far fa-times-circle",staticStyle:{cursor:"pointer"}})])]),e._v(" "),n("v-card-text",{staticClass:"white text--primary"},[e.hasNewHireItems?n("v-chip",{staticStyle:{margin:"5px 0px"},attrs:{label:"",small:""}},[e._v("\n        "+e._s(e.$t("sequence.addToNewHire"))+"\n      ")]):e._e(),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.i.to_do,type:"to_do"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.i.resources,type:"resources"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.i.badges,type:"badges"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.i.introductions,type:"introductions"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getNewHireItems(1),type:"slack_messages"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getNewHireItems(2),type:"text_messages"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getNewHireItems(0),type:"emails"},on:{openItem:e.openModal}}),e._v(" "),e.hasAdminItems?n("v-chip",{staticStyle:{margin:"5px 0px"},attrs:{label:"",small:""}},[e._v("\n        "+e._s(e.$t("sequence.addToAdmin"))+"\n      ")]):e._e(),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.i.admin_tasks,type:"admin_tasks"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getAdminItems(2),type:"text_messages"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getAdminItems(0),type:"emails"},on:{openItem:e.openModal}}),e._v(" "),n("CardLine",{attrs:{index:e.index,items:e.getAdminItems(1),type:"slack_messages"},on:{openItem:e.openModal}}),e._v(" "),e.someItems?e._e():n("v-row",[n("v-col",{attrs:{sm:"12"}},[e._v("\n          "+e._s(e.$t("sequence.startByDropping"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,"60807996",null),k=component.exports;d()(component,{VCard:m.a,VCardText:v.b,VCardTitle:v.c,VChip:h.a,VCol:f.a,VCombobox:_.a,VRow:y.a,VTextField:x.a,VTimelineItem:$.a});n(11),n(7),n(221);var w={name:"HRTaskModal",components:{HRTaskForm:n(706).a},props:{task:{type:Object,required:!0},index:{type:Number,required:!0},value:{type:Boolean,default:!1}},data:function(e){return{loading:!1,nameError:[],errors:{},hrTask:{assigned_to:e.$store.state.admins[0],date:"",todo:"",message:"",priority:1,option:0,slack_email:""}}},watch:{value:function(e){0===Object.entries(this.task).length?this.hrTask={assigned_to:this.$store.state.admins[0],date:"",todo:"",message:"",priority:1,option:"0",slack_email:""}:(this.hrTask=JSON.parse(JSON.stringify(this.task)),1===this.hrTask.option&&(this.hrTask.email=this.hrTask.email_slack),2===this.hrTask.option&&(this.hrTask.slack=this.hrTask.email_slack)),this.$store.commit("refreshEditor")}},methods:{addTask:function(){var e=this;this.loading=!0,this.$sequences.createAdminTask(this.hrTask).then((function(data){"id"in e.task&&e.$store.commit("sequences/removeItem",{block:e.index,type:"admin_tasks",id:e.task.id}),e.$store.commit("sequences/addItem",{block:e.index,type:"admin_tasks",item:data}),e.$emit("input",!1)})).catch((function(t){e.errors=t})).finally((function(){e.loading=!1}))}}},C=n(140),S=n(646),T=n(649),I=Object(l.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"950"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.$t("sequence.addTask"))+"\n    ")]),e._v(" "),n("v-card-text",[n("HRTaskForm",{attrs:{errors:e.errors,"no-new-hire":!0},model:{value:e.hrTask,callback:function(t){e.hrTask=t},expression:"hrTask"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addTask}},[Object.entries(e.task).length?n("span",[e._v("\n          "+e._s(e.$t("buttons.update"))+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$t("buttons.add"))+"\n        ")])])],1)],1)],1)}),[],!1,null,null,null),V=I.exports;d()(I,{VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:S.a,VSpacer:T.a});var M={name:"ResourceModal",components:{ResourceForm:n(698).a},props:{resource:{type:Object,required:!0},index:{type:Number,required:!0},value:{type:Boolean,default:!1}},data:function(){return{loading:!1,nameError:[],errors:{},tempResource:{name:"",tags:[],chapters:[{id:"iower23",name:"New item",content:[],type:0,files:[]}],course:!1,on_day:0,category:null,remove_on_complete:!1}}},watch:{value:function(e){if(0===Object.entries(this.resource).length)this.tempResource={name:"",tags:[],chapters:[{id:"iower23",name:"New item",content:[],type:0,files:[]}],course:!1,on_day:0,category:null,remove_on_complete:!1};else{this.tempResource1=JSON.parse(JSON.stringify(this.resource)),null!==this.tempResource1.category&&(this.tempResource1.category=this.tempResource1.category.name);var t=[];this.tempResource1.chapters.forEach((function(e){null===e.parent_chapter?(e.chapters=[],t.push(e)):t.find((function(a){return a.id===e.parent_chapter})).chapters.unshift(e)})),this.tempResource1.chapters=t,this.tempResource=this.tempResource1}this.$store.commit("refreshEditor")}},methods:{addResource:function(){var e=this;this.$resources.create(this.tempResource).then((function(data){if(-1===e.index)return e.$emit("updateUnconditionedItem",{id:e.tempResource.id||-1,type:"resources",item:data}),void e.$emit("input",!1);"id"in e.tempResource&&e.$store.commit("sequences/removeItem",{block:e.index,type:"resources",id:e.tempResource.id}),e.$store.commit("sequences/addItem",{block:e.index,type:"resources",item:data}),e.$emit("input",!1)})).catch((function(t){e.$store.dispatch("showSnackbar",e.$t("resource.couldNotSave"))})).finally((function(){e.loading=!1}))}}},O=Object(l.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"950"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.$t("sequence.resourceModal"))+"\n    ")]),e._v(" "),n("v-card-text",[n("ResourceForm",{staticClass:"form",attrs:{errors:e.errors},model:{value:e.tempResource,callback:function(t){e.tempResource=t},expression:"tempResource"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addResource}},[Object.entries(e.resource).length?n("span",[e._v("\n          "+e._s(e.$t("buttons.update"))+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$t("buttons.add"))+"\n        ")])])],1)],1)],1)}),[],!1,null,null,null),j=O.exports;d()(O,{VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:S.a,VSpacer:T.a});var P={name:"BadgeModal",components:{BadgeForm:n(707).a},props:{badge:{type:Object,required:!0},index:{type:Number,required:!0},value:{type:Boolean,default:!1}},data:function(){return{loading:!1,errors:{},tempBadge:{name:"",content:[],tags:[]}}},watch:{value:function(e){0===Object.entries(this.badge).length?this.tempBadge={name:"",content:[],tags:[],image:null}:this.tempBadge=JSON.parse(JSON.stringify(this.badge)),this.$store.commit("refreshEditor")}},methods:{addBadge:function(){var e=this;this.tempBadge.template=!1,this.loading=!0,this.$badges.create(this.tempBadge).then((function(data){"id"in e.badge&&e.$store.commit("sequences/removeItem",{block:e.index,type:"badges",id:e.badge.id}),e.$store.commit("sequences/addItem",{block:e.index,type:"badges",item:data}),e.$emit("input",!1)})).catch((function(t){e.errors=t})).finally((function(){e.loading=!1}))}}},E=Object(l.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"950"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline mx-2"},[e._v("\n      "+e._s(e.$t("sequence.badgeModal"))+"\n    ")]),e._v(" "),n("v-card-text",[n("BadgeForm",{staticClass:"form",attrs:{errors:e.errors,inline:!0},model:{value:e.tempBadge,callback:function(t){e.tempBadge=t},expression:"tempBadge"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addBadge}},[Object.entries(e.badge).length?n("span",[e._v("\n          "+e._s(e.$t("buttons.update"))+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$t("buttons.add"))+"\n        ")])])],1)],1)],1)}),[],!1,null,null,null),D=E.exports;d()(E,{VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:S.a,VSpacer:T.a});var N={props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0},value:{type:Boolean,default:!1},sendVia:{default:0,type:Number}},data:function(e){return{errors:{name:[],content:[],subject:[],content_json:[]},loading:!1,tempItem:{name:"",person_type:0,subject:"",send_to:null,send_via:e.sendVia,content:"",content_json:[]}}},computed:{people:function(){return 1===this.sendVia?this.$store.state.employees.all.filter((function(a){return null!==a.slack_user_id})):0===this.sendVia?this.$store.state.employees.all.filter((function(a){return null!==a.email})):this.$store.state.employees.all.filter((function(a){return null!==a.phone&&""!==a.phone}))}},watch:{value:function(e){0===Object.entries(this.item).length?this.tempItem={name:"",person_type:0,send_to:null,subject:"",send_via:this.sendVia,content:"",content_json:[]}:(this.tempItem=JSON.parse(JSON.stringify(this.item)),delete this.tempItem.id),this.$store.commit("refreshEditor")}},methods:{addItem:function(){var e=this;this.loading=!0,this.$sequences.createExternalMessage(this.tempItem).then((function(t){"id"in e.item&&e.$store.commit("sequences/removeItem",{block:e.index,id:e.item.id,type:"external_messages"}),e.$store.commit("sequences/addItem",{block:e.index,type:"external_messages",item:t}),e.$emit("input",!1)})).catch((function(t){e.errors=t})).finally((function(){e.loading=!1}))},sendTestMessage:function(){var e=this;this.$sequences.sendTestMessage(this.item.id).then((function(data){e.$store.dispatch("showSnackbar","Message has been sent!")})).catch((function(t){"slack"in t&&"not exist"===t.slack?e.$store.dispatch("showSnackbar",'Your account has not been connected to Slack yet. Go to People -> Employees -> find your profile and click on "give access"'):e.$store.dispatch("showSnackbar","Something went wrong...")}))}}},R=n(126),B=n(119),F=n(213),A=n(141),J=n(38),L=n(216),H=n(34),U=Object(l.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{persistent:!0,"max-width":"950",scrollable:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[2===e.sendVia?n("span",[e._v(e._s(e.$t("sequence.text")))]):e._e(),e._v(" "),1===e.sendVia?n("span",[e._v(e._s(e.$t("sequence.slack")))]):e._e(),e._v(" "),0===e.sendVia?n("span",[e._v(e._s(e.$t("sequence.emailModal")))]):e._e()]),e._v(" "),"id"in e.item&&2!==e.sendVia?n("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticStyle:{"font-size":"20px"},attrs:{icon:""}},o),[n("v-icon",[e._v("settings")])],1)]}}],null,!1,2095969403)},[e._v(" "),n("v-list",[n("v-list-item",{on:{click:e.sendTestMessage}},[n("v-list-item-title",[e._v("Send test message")])],1)],1)],1)],1):e._e()],1)],1),e._v(" "),n("v-card-text",[n("v-col",{staticClass:"pa-0",attrs:{sm:"12"}},[n("v-text-field",{attrs:{label:e.$t("sequence.slackTitle"),"error-messages":e.errors.name[0]},on:{keyup:function(t){e.errors.name=[]}},model:{value:e.tempItem.name,callback:function(t){e.$set(e.tempItem,"name",t)},expression:"tempItem.name"}})],1),e._v(" "),n("v-col",{staticClass:"mt-2 pa-0",attrs:{xs:"12"}},[n("v-select",{attrs:{items:[{id:0,name:e.$t("sequence.newHire")},{id:1,name:e.$t("sequence.manager")},{id:2,name:e.$t("sequence.buddy")},{id:3,name:e.$t("sequence.pick")}],label:e.$t("sequence.personText"),"item-text":"name","item-value":"id"},model:{value:e.tempItem.person_type,callback:function(t){e.$set(e.tempItem,"person_type",t)},expression:"tempItem.person_type"}})],1),e._v(" "),n("v-col",{staticClass:"pa-0",attrs:{sm:"12"}},[3===e.tempItem.person_type?n("v-autocomplete",{staticClass:"mb-3",attrs:{items:e.people,label:e.$t("sequence.employee"),"item-value":"id","item-text":"full_name"},model:{value:e.tempItem.send_to,callback:function(t){e.$set(e.tempItem,"send_to",t)},expression:"tempItem.send_to"}}):e._e()],1),e._v(" "),n("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[0===e.sendVia?n("VTextFieldEmoji",{attrs:{label:e.$t("sequence.subject"),errors:e.errors.content,personalize:""},model:{value:e.tempItem.subject,callback:function(t){e.$set(e.tempItem,"subject",t)},expression:"tempItem.subject"}}):e._e()],1),e._v(" "),n("v-col",{staticClass:"pa-0",attrs:{sm:"12"}},[2===e.sendVia?n("VTextAreaEmoji",{attrs:{label:e.$t("sequence.textForm"),errors:e.errors.content,personalize:!0},model:{value:e.tempItem.content,callback:function(t){e.$set(e.tempItem,"content",t)},expression:"tempItem.content"}}):n("Editor",{attrs:{errors:e.errors.content_json,personalize:!0},model:{value:e.tempItem.content_json,callback:function(t){e.$set(e.tempItem,"content_json",t)},expression:"tempItem.content_json"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n          "+e._s(e.$t("buttons.cancel"))+"\n        ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:function(t){return e.addItem()}}},[Object.entries(e.item).length?n("span",[e._v("\n            "+e._s(e.$t("buttons.update"))+"\n          ")]):n("span",[e._v("\n            "+e._s(e.$t("buttons.add"))+"\n          ")])])],1)],1)],1)],1)}),[],!1,null,"4697e5ba",null),z=U.exports;d()(U,{VAutocomplete:R.a,VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VCol:f.a,VDialog:S.a,VIcon:B.a,VList:F.a,VListItem:A.a,VListItemTitle:J.c,VMenu:L.a,VRow:y.a,VSelect:H.a,VSpacer:T.a,VTextField:x.a});var Y={name:"ToDoModal",components:{TodoForm:n(700).a},props:{toDo:{type:Object,default:function(){return{}}},index:{type:Number,required:!0},value:{type:Boolean,required:!0}},data:function(){return{loading:!1,errors:{},tempToDo:{name:"",data:[],due_on_day:0,content:[],tags:[],form:[],send_back:!1,channel:""}}},watch:{value:function(e){0===Object.entries(this.toDo).length?this.tempToDo={name:"",form:[],content:[],due_on_day:"",tags:[],send_back:!1,channel:""}:(this.tempToDo=JSON.parse(JSON.stringify(this.toDo)),delete this.tempToDo.id),this.$store.commit("refreshEditor")}},methods:{addToDoItem:function(){var e=this;this.tempToDo.template=!1,this.loading=!0,this.$todos.create(this.tempToDo).then((function(data){if(-1===e.index)return e.$emit("updateUnconditionedItem",{id:e.toDo.id||-1,type:"to_do",item:data}),void e.$emit("input",!1);"id"in e.toDo&&e.$store.commit("sequences/removeItem",{block:e.index,type:"to_do",id:e.toDo.id}),e.$store.commit("sequences/addItem",{block:e.index,type:"to_do",item:data}),e.$emit("input",!1)})).catch((function(t){e.errors=t,e.$store.dispatch("showSnackbar",e.$t("todo.couldNotSave"))})).finally((function(){e.loading=!1}))}}},Q=Object(l.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"1000"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.$t("todo.item"))+"\n    ")]),e._v(" "),n("v-card-text",{staticClass:"pa-0"},[n("TodoForm",{attrs:{errors:e.errors,inline:!0},model:{value:e.tempToDo,callback:function(t){e.tempToDo=t},expression:"tempToDo"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addToDoItem}},[Object.entries(e.toDo).length?n("span",[e._v("\n          "+e._s(e.$t("buttons.update"))+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$t("buttons.add"))+"\n        ")])])],1)],1)],1)}),[],!1,null,null,null),G=Q.exports;d()(Q,{VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:S.a,VSpacer:T.a});var W={name:"IntroductionModal",components:{IntroForm:n(699).a},props:{intro:{type:Object,default:function(){return{}}},index:{type:Number,required:!0},value:{type:Boolean,required:!0}},data:function(){return{loading:!1,errors:{},tempIntro:{name:"",intro_person:"",tags:[]}}},watch:{value:function(e){0===Object.entries(this.intro).length?this.tempIntro={name:"",intro_person:"",tags:[]}:this.tempIntro=JSON.parse(JSON.stringify(this.intro))}},methods:{addIntroItem:function(){var e=this;this.tempIntro.template=!1,this.loading=!0,delete this.tempIntro.id,this.$intros.create(this.tempIntro).then((function(data){if(-1===e.index)return e.$emit("updateUnconditionedItem",{id:e.intro.id||-1,type:"introduction",item:data}),void e.$emit("input",!1);"id"in e.intro&&e.$store.commit("sequences/removeItem",{block:e.index,type:"introductions",id:e.intro.id}),e.$store.commit("sequences/addItem",{block:e.index,type:"introductions",item:data}),e.$emit("input",!1)})).catch((function(t){e.errors=t,e.$store.dispatch("showSnackbar",e.$t("intro.couldNotSave"))})).finally((function(){e.loading=!1}))}}},K=Object(l.a)(W,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!0,"max-width":"1000"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.$t("intro.item"))+"\n    ")]),e._v(" "),n("v-card-text",{staticClass:"pa-0"},[n("IntroForm",{attrs:{errors:e.errors,inline:!0},model:{value:e.tempIntro,callback:function(t){e.tempIntro=t},expression:"tempIntro"}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n        "+e._s(e.$t("buttons.cancel"))+"\n      ")]),e._v(" "),n("v-btn",{attrs:{loading:e.loading},on:{click:e.addIntroItem}},[Object.entries(e.intro).length?n("span",[e._v("\n          "+e._s(e.$t("buttons.update"))+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$t("buttons.add"))+"\n        ")])])],1)],1)],1)}),[],!1,null,null,null),X=K.exports;d()(K,{VBtn:C.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:S.a,VSpacer:T.a});var Z=n(720),ee={name:"TimelineItem",components:{CardLine:o.a},props:{value:{type:Object,required:!0}},data:function(){return{}},methods:{openModal:function(e){this.$emit("sendBack",e)},selfRemove:function(){this.value.to_do=[],this.value.resources=[],this.$store.commit("sequences/setAutoAdd")},removeItem:function(e){var t=this.value[e.type].findIndex((function(a){return a.id===e.id}));this.value[e.type].splice(t,1)}}},te=Object(l.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline-item",{staticClass:"mb-1",attrs:{right:""}},[n("v-card",{attrs:{color:"#f5f5f5"}},[n("v-card-title",{staticClass:"title",staticStyle:{"padding-bottom":"0px","padding-top":"5px","max-height":"70px"}},[n("span",{staticStyle:{"font-size":"15px"}},[e._v("\n        "+e._s(e.$t("sideBar.unconditioned"))+"\n      ")]),e._v(" "),n("div",{staticClass:"red-remove",staticStyle:{position:"absolute",right:"15px"},on:{click:e.selfRemove}},[n("i",{staticClass:"far fa-times-circle",staticStyle:{cursor:"pointer"}})])]),e._v(" "),n("v-card-text",{staticClass:"white text--primary pt-3"},[n("CardLine",{attrs:{index:-1,items:e.value.to_do,type:"to_do"},on:{openItem:e.openModal,removeUnconditionedItem:e.removeItem}}),e._v(" "),n("CardLine",{attrs:{index:-1,items:e.value.resources,type:"resources"},on:{openItem:e.openModal,removeUnconditionedItem:e.removeItem}}),e._v(" "),e.value.to_do.length||e.value.resources.length?e._e():n("v-row",[n("v-col",{attrs:{sm:"12"}},[e._v("\n          "+e._s(e.$t("sequence.startByDropping"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,"488e99ca",null),ne=te.exports;d()(te,{VCard:m.a,VCardText:v.b,VCardTitle:v.c,VCol:f.a,VRow:y.a,VTimelineItem:$.a});var ae={components:{ExternalMessageModal:z,TimelineItem:k,PreboardingPage:n(678).a,IntroductionModal:X,TaskModal:V,ResourceModal:j,BadgeModal:D,ToDoModal:G,PreboardingPart:Z.a,AutoAddTimeLineItem:ne},props:{errors:{required:!0,type:Object}},data:function(e){return{upHere:!0,tempErrors:[],right:!0,openTaskModal:!1,openExternalMessageModal:!1,openBadgeModal:!1,openResourceModal:!1,openToDoModal:!1,openIntroModal:!1,dialog:!1,adminTask:{},preboardingItem:[],index:-1,active:0,items:{name:"",collection_items:[]},item:{},toDo:{},intro:{},resource:{},preboarding:{},badge:{},externalType:0,collection:{preboarding:[],to_do:[],resources:[]}}},watch:{errors:function(e){this.tempErrors=JSON.parse(JSON.stringify(e))}},mounted:function(){var e=this;this.$store.commit("setRightSideBar",!0),this.$store.commit("toggleLeftDrawer",!0),this.$store.commit("sequences/resetPreboarding"),this.$store.commit("sequences/resetAutoAdd"),setTimeout((function(){e.collection={preboarding:JSON.parse(JSON.stringify(e.$store.state.sequences.item.preboarding))||[],to_do:JSON.parse(JSON.stringify(e.$store.state.sequences.item.to_do))||[],resources:JSON.parse(JSON.stringify(e.$store.state.sequences.item.resources))||[]},e.preboarding=JSON.parse(JSON.stringify(e.$store.state.sequences.item.preboarding))||[],e.$store.state.sequences.item.preboarding.length&&e.$store.commit("sequences/hasPreboarding"),(e.$store.state.sequences.item.to_do.length||e.$store.state.sequences.item.resources.length)&&e.$store.commit("sequences/setAutoAdd")}),100)},methods:{updateSequenceName:function(e){this.tempErrors.name=[],this.$store.commit("sequences/setSequenceName",e.target.value)},handleDrop:function(e,data){if(this.index=e,2===this.$store.state.sequences.sequence[e].condition_type&&["to_do","resources","badges"].includes(data.type))return this.$store.dispatch("showSnackbar",this.$t("sequence.beforeStart")),!1;"admin_tasks"===data.type?(this.openTaskModal=!0,this.adminTask={}):[0,1,2].includes(data.type)?(this.item={},this.externalType=data.type,this.openExternalMessageModal=!0):"to_do"===data.type&&-1===data.item.id?(this.openToDoModal=!0,this.toDo={}):"resources"===data.type&&-1===data.item.id?(this.resource={},this.openResourceModal=!0):"badges"===data.type&&-1===data.item.id?(this.openBadgeModal=!0,this.badge={}):"introductions"===data.type&&-1===data.item.id?(this.openIntroModal=!0,this.intro={}):this.$store.commit("sequences/addItem",{block:this.index,item:data.item,type:data.type})},handleUnconditionedDrop:function(data){if(!["to_do","resources"].includes(data.type))return this.$store.dispatch("showSnackbar",this.$t("sequence.unconditionedError")),!1;"to_do"===data.type&&-1===data.item.id?(this.openToDoModal=!0,this.toDo={}):"resources"===data.type&&-1===data.item.id?(this.resource={},this.openResourceModal=!0):"introductions"===data.type&&-1===data.item.id?this.$store.dispatch("showSnackbar","You can't do this right now. Soon!"):this.collection[data.type].push(data.item)},updateUnconditionedItem:function(data){if(-1===data.id)this.collection[data.type].push(data.item);else{var e=this.collection[data.type].findIndex((function(a){return a.id===data.id}));this.collection[data.type].splice(e,1,data.item)}},openItem:function(e){if(-1===e.index){var t=this.collection[e.type].find((function(a){return a.id===e.id}));return"to_do"===e.type&&(this.toDo=t,this.openToDoModal=!0),void("resources"===e.type&&(this.resource=t,this.openResourceModal=!0))}this.index=e.index,"text_messages"===e.type||"emails"===e.type||"slack_messages"===e.type?(this.item=this.$store.state.sequences.sequence[e.index].external_messages.find((function(a){return a.id===e.id})),"text_messages"===e.type&&(this.externalType=2),"slack_messages"===e.type&&(this.externalType=1),"emails"===e.type&&(this.externalType=0),this.openExternalMessageModal=!0):"admin_tasks"===e.type?(this.adminTask=this.$store.state.sequences.sequence[e.index][e.type].find((function(a){return a.id===e.id})),this.openTaskModal=!0):"to_do"===e.type?(this.toDo=this.$store.state.sequences.sequence[e.index][e.type].find((function(a){return a.id===e.id})),this.openToDoModal=!0):"resources"===e.type?(this.resource=this.$store.state.sequences.sequence[e.index][e.type].find((function(a){return a.id===e.id})),this.openResourceModal=!0):"introductions"===e.type?(this.intro=this.$store.state.sequences.sequence[e.index][e.type].find((function(a){return a.id===e.id})),this.openIntroModal=!0):"badges"===e.type&&(this.badge=this.$store.state.sequences.sequence[e.index][e.type].find((function(a){return a.id===e.id})),this.openBadgeModal=!0)}}},se=n(652),ie=n(747),oe=n(68),re=n(111),le=Object(l.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{staticClass:"py-0"},[n("v-row",[n("v-col",{attrs:{sm:"12"}},[n("v-text-field",{attrs:{value:e.$store.state.sequences.item.name,label:e.$t("forms.title"),"error-messages":e.tempErrors.name},on:{keyup:e.updateSequenceName}})],1)],1),e._v(" "),e.$store.state.sequences.sequence.length||e.$store.state.sequences.hasPreboarding||e.$store.state.sequences.hasAutoAdd?n("v-timeline",{staticStyle:{"padding-top":"0px"},attrs:{"align-top":"",dense:""}},[n("v-timeline-item",{staticClass:"white--text mb-5",attrs:{"fill-dot":"",color:"primary",large:""}},[n("span",{attrs:{slot:"icon"},slot:"icon"},[e._v(e._s(e.$t("sequence.start")))])]),e._v(" "),e.$store.state.sequences.hasPreboarding?n("PreboardingPart",{on:{openPreview:function(t){e.dialog=!0},openAccessModal:function(t){e.preboardingDialog=!0}},model:{value:e.preboarding,callback:function(t){e.preboarding=t},expression:"preboarding"}}):e._e(),e._v(" "),n("drop",{on:{drop:function(t){return e.handleUnconditionedDrop.apply(void 0,arguments)}}},[e.$store.state.sequences.hasAutoAdd?n("AutoAddTimeLineItem",{on:{sendBack:e.openItem},model:{value:e.collection,callback:function(t){e.collection=t},expression:"collection"}}):e._e()],1),e._v(" "),e._l(e.$store.state.sequences.sequence,(function(i,t){return n("div",{key:t},[n("drop",{on:{drop:function(n){for(var i=arguments.length,o=Array(i);i--;)o[i]=arguments[i];return e.handleDrop.apply(void 0,[t].concat(o))}}},[n("TimelineItem",{attrs:{i:i,index:t},on:{sendBack:e.openItem}})],1)],1)})),e._v(" "),n("v-timeline-item",{staticClass:"white--text mt-5",attrs:{"fill-dot":"",color:"primary",large:""}},[n("span",{attrs:{slot:"icon"},slot:"icon"},[e._v(e._s(e.$t("sequence.end")))])])],2):n("v-row",{attrs:{align:"center",justify:"center",row:"","fill-height":""}},[n("p",[e._v(" "+e._s(e.$t("sequence.startByAdding")))])])],1),e._v(" "),n("ExternalMessageModal",{attrs:{item:e.item,"send-via":e.externalType,index:e.index},model:{value:e.openExternalMessageModal,callback:function(t){e.openExternalMessageModal=t},expression:"openExternalMessageModal"}}),e._v(" "),n("TaskModal",{attrs:{task:e.adminTask,index:e.index},model:{value:e.openTaskModal,callback:function(t){e.openTaskModal=t},expression:"openTaskModal"}}),e._v(" "),n("ToDoModal",{attrs:{"to-do":e.toDo,index:e.index},on:{updateUnconditionedItem:e.updateUnconditionedItem},model:{value:e.openToDoModal,callback:function(t){e.openToDoModal=t},expression:"openToDoModal"}}),e._v(" "),n("BadgeModal",{attrs:{badge:e.badge,index:e.index},model:{value:e.openBadgeModal,callback:function(t){e.openBadgeModal=t},expression:"openBadgeModal"}}),e._v(" "),n("ResourceModal",{attrs:{resource:e.resource,index:e.index},on:{updateUnconditionedItem:e.updateUnconditionedItem},model:{value:e.openResourceModal,callback:function(t){e.openResourceModal=t},expression:"openResourceModal"}}),e._v(" "),n("IntroductionModal",{attrs:{intro:e.intro,index:e.index},on:{updateUnconditionedItem:e.updateUnconditionedItem},model:{value:e.openIntroModal,callback:function(t){e.openIntroModal=t},expression:"openIntroModal"}}),e._v(" "),n("v-dialog",{staticClass:"mt-3",attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"dark"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("close")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("newhires.preview")))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n            "+e._s(e.$t("buttons.close"))+"\n          ")])],1)],1),e._v(" "),n("PreboardingPage",{attrs:{pages:e.preboarding,"auth-code":e.$store.state.admin.authToken,"new-hire":e.$store.state.newhires.all[0],org:e.$store.state.org}})],1)],1)],1)}),[],!1,null,null,null);t.a=le.exports;d()(le,{VBtn:C.a,VCard:m.a,VCol:f.a,VContainer:se.a,VDialog:S.a,VIcon:B.a,VRow:y.a,VSpacer:T.a,VTextField:x.a,VTimeline:ie.a,VTimelineItem:$.a,VToolbar:oe.a,VToolbarItems:re.a,VToolbarTitle:re.b})},753:function(e,t,n){var content=n(845);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("5740a271",content,!0,{sourceMap:!1})},844:function(e,t,n){"use strict";n(753)},845:function(e,t,n){var o=n(16)(!1);o.push([e.i,".border-bottom[data-v-4e2f4bc2]{border-bottom:1px solid #e4e4e4}",""]),e.exports=o},914:function(e,t,n){"use strict";n.r(t);n(25),n(7);var o={layout:"admin",components:{SequenceForm:n(728).a},data:function(){return{loading:!0,saving:!1,removing:!1,duplicating:!1,errors:{},sequence:{},updatedSequence:{}}},watch:{$route:function(e,t){this.getSequence()}},mounted:function(){this.getSequence()},methods:{getSequence:function(){var e=this;return this.$sequences.get(this.$route.params.id).then((function(data){e.$store.commit("sequences/setSequence",data.conditions),e.$store.commit("sequences/setSequenceFull",data),e.sequence=data})).catch((function(t){e.$store.dispatch("showSnackbar",e.$t("sequence.noSequence"))})).finally((function(){e.loading=!1}))},updateSequence:function(){var e=this;this.saving=!0,this.updatedSequence.collection=this.$refs.seq.collection,this.updatedSequence.collection.preboarding=this.$refs.seq.preboarding,this.updatedSequence.name=this.$store.state.sequences.item.name,this.updatedSequence.conditions=this.$store.state.sequences.sequence,this.$sequences.update(this.$route.params.id,this.updatedSequence).then((function(data){e.$router.push({name:"admin-templates-presets"}),e.$store.dispatch("showSnackbar",e.$t("sequence.updated"))})).catch((function(t){e.errors=t})).finally((function(){e.saving=!1}))},removeSequence:function(){var e=this;this.removing=!0,this.$sequences.remove(this.$route.params.id).then((function(data){e.$router.push({name:"admin-templates-presets"}),e.$store.dispatch("showSnackbar",e.$t("sequence.removed"))})).catch((function(t){e.errors=t})).finally((function(){e.removing=!1}))},duplicateSequence:function(){var e=this;this.duplicating=!0,this.sequence.collection=this.$refs.form.collection,this.sequence.name=this.$store.state.sequences.item.name,this.sequence.items=this.$store.state.sequences.sequence,this.$sequences.update(this.$route.params.id,this.sequence).then((function(data){e.$sequences.duplicate(e.$route.params.id).then((function(data){e.$router.push({name:"admin-templates-presets"}),e.$store.dispatch("showSnackbar",e.$t("sequence.savedAndDuplicated"))})).catch((function(t){e.errors=t})).finally((function(){e.duplicating=!1}))}))}}},r=(n(844),n(23)),l=n(24),c=n.n(l),d=n(140),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TemplateCompInner",[n("template",{slot:"header"},[n("h1",{staticClass:"heading",staticStyle:{"margin-top":"10px"}},[e._v("\n      "+e._s(e.$t("sequence.changeHeader"))+"\n    ")])]),e._v(" "),n("template",{slot:"header-right"},[n("v-btn",{attrs:{loading:e.duplicating,color:"secondary"},on:{click:e.duplicateSequence}},[e._v("\n      "+e._s(e.$t("buttons.duplicate"))+"\n    ")]),e._v(" "),n("v-btn",{staticStyle:{"margin-right":"0px"},attrs:{loading:e.removing,color:"error"},on:{click:e.removeSequence}},[e._v("\n      "+e._s(e.$t("buttons.remove"))+"\n    ")])],1),e._v(" "),n("template",{slot:"formpart"},[n("LoadingIcon",{attrs:{"is-loading":e.loading}}),e._v(" "),e.loading?e._e():n("div",[n("SequenceForm",{ref:"seq",staticClass:"form",attrs:{errors:e.errors},model:{value:e.sequence,callback:function(t){e.sequence=t},expression:"sequence"}})],1)],1),e._v(" "),n("template",{slot:"footer"},[n("v-btn",{staticStyle:{float:"right"},attrs:{loading:e.saving,color:"primary"},on:{click:e.updateSequence}},[e._v("\n      "+e._s(e.$t("buttons.update"))+"\n    ")])],1)],2)}),[],!1,null,"4e2f4bc2",null);t.default=component.exports;c()(component,{VBtn:d.a})}}]);