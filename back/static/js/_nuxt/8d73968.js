(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{884:function(e,t,o){"use strict";o.r(t);o(7);var n={layout:"admin",data:function(){return{loading:!1,syncingGoogle:!1,syncingSlack:!1,headers:[{text:"Name",value:"first_name"},{value:"has_pwd"}]}},mounted:function(){this.getEmployees()},methods:{getEmployees:function(){var e=this;this.loading=!0,this.$employees.getAll().finally((function(){e.loading=!1}))},giveAccessPortal:function(e){var t=this;this.$store.commit("employees/setEmailAccessLoading",e.id),this.$employees.giveAccessPortal(e).then((function(){t.$store.commit("employees/setEmailAccessLoading",e.id),t.$store.commit("employees/setHasPassword",e,!1)}))},giveAccessSlack:function(e){var t=this;this.$store.commit("employees/setSlackLoading",e.id),e.slack_loading=!0,this.$employees.giveAccessSlack(e).then((function(){t.$store.commit("employees/setSlackId",e.id),t.$store.commit("employees/setSlackLoading",e.id)}))},removeAccessSlack:function(e){var t=this;this.$store.commit("employees/setSlackLoading",e.id),this.$employees.revokeAccessSlack(e).then((function(){t.$store.commit("employees/unsetSlackId",e.id),t.$store.commit("employees/setSlackLoading",e.id)}))},syncGoogle:function(){var e=this;this.syncingGoogle=!0,this.$employees.syncGoogle().then((function(){e.$store.dispatch("showSnackbar",e.$t("employee.googleSynced")),e.syncingGoogle=!1,e.getEmployees()}))},syncSlack:function(){var e=this;this.syncingSlack=!0,this.$employees.syncSlack().then((function(){e.$store.dispatch("showSnackbar",e.$t("employee.slackSynced")),e.syncingSlack=!1,e.getEmployees()}))},goToPage:function(e,t){this.$router.push({name:"admin-employee-id",params:{id:e.id}})}}},c=o(23),l=o(24),r=o.n(l),m=o(140),d=o(208),y=o(644),v=o(656),h=o(648),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-row",[o("v-col",{attrs:{sm:"12",mb:"6","offset-mb":"3",md:"8","offset-sm":"2"}},[o("v-row",{staticClass:"my-4"},[o("v-col",{attrs:{sm:"3"}},[o("h1",{staticClass:"heading"},[e._v("\n          "+e._s(e.$t("admin.employees"))+"\n        ")])]),e._v(" "),o("v-col",{staticClass:"mt-1 text-right",attrs:{sm:"9"}},[e.$store.state.org.google_key?o("v-btn",{attrs:{loading:e.syncingGoogle},on:{click:e.syncGoogle}},[e._v("\n          "+e._s(e.$t("employee.syncWithGoogle"))+"\n        ")]):e._e(),e._v(" "),e.$store.state.org.slack_key?o("v-btn",{attrs:{loading:e.syncingSlack},on:{click:e.syncSlack}},[e._v("\n          "+e._s(e.$t("employee.syncWithSlack"))+"\n        ")]):e._e(),e._v(" "),o("v-btn",{staticStyle:{"margin-right":"0px"},attrs:{color:"success"},on:{click:function(t){return e.$router.push({name:"admin-employee-add"})}}},[e._v("\n          "+e._s(e.$t("employee.add"))+"\n        ")])],1)],1),e._v(" "),o("v-card",{staticClass:"mb-4"},[[o("v-data-table",{attrs:{headers:e.headers,items:e.$store.state.employees.all,"footer-props":{"items-per-page-options":[50,100,-1]}},on:{"click:row":e.goToPage},scopedSlots:e._u([{key:"item.first_name",fn:function(t){var o=t.item;return[e._v("\n            "+e._s(o.first_name)+" "+e._s(o.last_name)+"\n          ")]}},{key:"item.has_pwd",fn:function(t){var n=t.item;return[n.has_pwd?e._e():o("v-btn",{staticStyle:{float:"right","margin-left":"5px"},attrs:{loading:n.email_loading,color:"success",small:""},on:{click:function(t){return t.stopPropagation(),e.giveAccessPortal(n)}}},[e._v("\n              "+e._s(e.$t("employee.sendLoginEmail"))+"\n            ")]),e._v(" "),e.$store.state.org.slack_key?o("div",{staticStyle:{float:"right"}},[n.slack_user_id?o("div",[o("v-btn",{attrs:{loading:n.slack_loading,color:"info",small:""},on:{click:function(t){return t.stopPropagation(),e.removeAccessSlack(n)}}},[e._v("\n                  "+e._s(e.$t("employee.hasAccess"))+"\n                ")])],1):o("div",[o("v-btn",{attrs:{loading:n.slack_loading,color:"success",small:""},on:{click:function(t){return t.stopPropagation(),e.giveAccessSlack(n)}}},[e._v("\n                  "+e._s(e.$t("newhires.giveAccess"))+"\n                ")])],1)]):e._e()]}}])})]],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports;r()(component,{VBtn:m.a,VCard:d.a,VCol:y.a,VDataTable:v.a,VRow:h.a})}}]);