/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{662:function(t,e,n){t.exports=function(){"use strict";var t=Object.prototype.toString,e=Array.isArray||function(object){return"[object Array]"===t.call(object)};function n(object){return"function"==typeof object}function r(t){return e(t)?"array":typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function c(t,e){return null!=t&&"object"==typeof t&&e in t}function l(t,e){return null!=t&&"object"!=typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var h=RegExp.prototype.test;function d(t,e){return h.call(t,e)}var f=/\S/;function v(t){return!d(f,t)}var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function y(t){return String(t).replace(/[&<>"'`=\/]/g,(function(s){return m[s]}))}var _=/\s*/,w=/\s+/,x=/\s*=/,k=/\s*\}/,$=/#|\^|\/|>|\{|&|=|!/;function C(template,t){if(!template)return[];var n,r,c,l=!1,h=[],d=[],f=[],m=!1,y=!1,C="",j=0;function B(){if(m&&!y)for(;f.length;)delete d[f.pop()];else f=[];m=!1,y=!1}function O(t){if("string"==typeof t&&(t=t.split(w,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);n=new RegExp(o(t[0])+"\\s*"),r=new RegExp("\\s*"+o(t[1])),c=new RegExp("\\s*"+o("}"+t[1]))}O(t||V.tags);for(var M,P,U,L,F,I,A=new E(template);!A.eos();){if(M=A.pos,U=A.scanUntil(n))for(var i=0,R=U.length;i<R;++i)v(L=U.charAt(i))?(f.push(d.length),C+=L):(y=!0,l=!0,C+=" "),d.push(["text",L,M,M+1]),M+=1,"\n"===L&&(B(),C="",j=0,l=!1);if(!A.scan(n))break;if(m=!0,P=A.scan($)||"name",A.scan(_),"="===P?(U=A.scanUntil(x),A.scan(x),A.scanUntil(r)):"{"===P?(U=A.scanUntil(c),A.scan(k),A.scanUntil(r),P="&"):U=A.scanUntil(r),!A.scan(r))throw new Error("Unclosed tag at "+A.pos);if(F=">"==P?[P,U,M,A.pos,C,j,l]:[P,U,M,A.pos],j++,d.push(F),"#"===P||"^"===P)h.push(F);else if("/"===P){if(!(I=h.pop()))throw new Error('Unopened section "'+U+'" at '+M);if(I[1]!==U)throw new Error('Unclosed section "'+I[1]+'" at '+M)}else"name"===P||"{"===P||"&"===P?y=!0:"="===P&&O(U)}if(B(),I=h.pop())throw new Error('Unclosed section "'+I[1]+'" at '+A.pos);return T(S(d))}function S(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function T(t){for(var e,n=[],r=n,o=[],i=0,c=t.length;i<c;++i)switch((e=t[i])[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":o.pop()[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function E(t){this.string=t,this.tail=t,this.pos=0}function j(view,t){this.view=view,this.cache={".":this.view},this.parent=t}function B(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}E.prototype.eos=function(){return""===this.tail},E.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},E.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},j.prototype.push=function(view){return new j(view,this)},j.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var o,h,d,f=this,v=!1;f;){if(t.indexOf(".")>0)for(o=f.view,h=t.split("."),d=0;null!=o&&d<h.length;)d===h.length-1&&(v=c(o,h[d])||l(o,h[d])),o=o[h[d++]];else o=f.view[t],v=c(f.view,t);if(v){e=o;break}f=f.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},B.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},B.prototype.parse=function(template,t){var e=this.templateCache,n=template+":"+(t||V.tags).join(":"),r=void 0!==e,o=r?e.get(n):void 0;return null==o&&(o=C(template,t),r&&e.set(n,o)),o},B.prototype.render=function(template,view,t,e){var n=this.getConfigTags(e),r=this.parse(template,n),o=view instanceof j?view:new j(view,void 0);return this.renderTokens(r,o,t,template,e)},B.prototype.renderTokens=function(t,e,n,r,o){for(var c,symbol,l,h="",i=0,d=t.length;i<d;++i)l=void 0,"#"===(symbol=(c=t[i])[0])?l=this.renderSection(c,e,n,r,o):"^"===symbol?l=this.renderInverted(c,e,n,r,o):">"===symbol?l=this.renderPartial(c,e,n,o):"&"===symbol?l=this.unescapedValue(c,e):"name"===symbol?l=this.escapedValue(c,e,o):"text"===symbol&&(l=this.rawValue(c)),void 0!==l&&(h+=l);return h},B.prototype.renderSection=function(t,r,o,c,l){var h=this,d="",f=r.lookup(t[1]);function v(template){return h.render(template,r,o,l)}if(f){if(e(f))for(var m=0,y=f.length;m<y;++m)d+=this.renderTokens(t[4],r.push(f[m]),o,c,l);else if("object"==typeof f||"string"==typeof f||"number"==typeof f)d+=this.renderTokens(t[4],r.push(f),o,c,l);else if(n(f)){if("string"!=typeof c)throw new Error("Cannot use higher-order sections without the original template");null!=(f=f.call(r.view,c.slice(t[3],t[5]),v))&&(d+=f)}else d+=this.renderTokens(t[4],r,o,c,l);return d}},B.prototype.renderInverted=function(t,n,r,o,c){var l=n.lookup(t[1]);if(!l||e(l)&&0===l.length)return this.renderTokens(t[4],n,r,o,c)},B.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),o=t.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!n)&&(o[i]=r+o[i]);return o.join("\n")},B.prototype.renderPartial=function(t,e,r,o){if(r){var c=this.getConfigTags(o),l=n(r)?r(t[1]):r[t[1]];if(null!=l){var h=t[6],d=t[5],f=t[4],v=l;0==d&&f&&(v=this.indentPartial(l,f,h));var m=this.parse(v,c);return this.renderTokens(m,e,r,v,o)}}},B.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},B.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||V.escape,o=e.lookup(t[1]);if(null!=o)return"number"==typeof o&&r===V.escape?String(o):r(o)},B.prototype.rawValue=function(t){return t[1]},B.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},B.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var V={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){O.templateCache=t},get templateCache(){return O.templateCache}},O=new B;return V.clearCache=function(){return O.clearCache()},V.parse=function(template,t){return O.parse(template,t)},V.render=function(template,view,t,e){if("string"!=typeof template)throw new TypeError('Invalid template! Template should be a "string" but "'+r(template)+'" was given as the first argument for mustache#render(template, view, partials)');return O.render(template,view,t,e)},V.escape=y,V.Scanner=E,V.Context=j,V.Writer=B,V}()},663:function(t,e,n){var content=n(671);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("19b267cc",content,!0,{sourceMap:!1})},668:function(t,e,n){"use strict";n(127);var r=n(662),o=n.n(r),c={name:"ContentDisplay",props:{content:{default:function(){return[]},type:Array},disableMustache:{default:!1,type:Boolean}},methods:{getYoutubeLink:function(t){var e=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/;return null!==t.trim().match(e)&&2===t.trim().match(e).length?"https://youtube.com/embed/"+t.trim().match(e)[1]:""},mustaching:function(content){return this.disableMustache?content:void 0===content?"":o.a.render(content,this.$store.state.baseInfo.new_hire||this.$store.state.admins[0])},downloadFile:function(t){this.$newhirepart.getFileURL(t.id,t.uuid).then((function(t){window.open(t,"_blank")}))}}},l=(n(670),n(23)),h=n(24),d=n.n(h),f=n(215),v=n(175),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.content,(function(i,e){return n("div",{key:e},["p"===i.type?n("p",[n("span",{domProps:{innerHTML:t._s(t.mustaching(i.content))}})]):t._e(),t._v(" "),"h1"===i.type?n("h1",[n("span",{domProps:{innerHTML:t._s(t.mustaching(i.content))}})]):t._e(),t._v(" "),"h2"===i.type?n("h2",[n("span",{domProps:{innerHTML:t._s(t.mustaching(i.content))}})]):t._e(),t._v(" "),"h3"===i.type?n("h3",[n("span",{domProps:{innerHTML:t._s(t.mustaching(i.content))}})]):t._e(),t._v(" "),"ul"===i.type?n("ul",{staticClass:"mb-3"},t._l(i.items,(function(e){return n("li",[n("span",{domProps:{innerHTML:t._s(t.mustaching(e.content))}})])})),0):t._e(),t._v(" "),"file"===i.type?n("h3",[n("label",[t._v("Files")]),n("br"),t._v(" "),t._l(i.files,(function(e,r){return n("v-chip",{key:r,on:{click:function(n){return t.downloadFile(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))],2):t._e(),t._v(" "),"image"===i.type&&i.files.length?n("h3",[n("v-img",{attrs:{src:i.files[0].file_url}})],1):t._e(),t._v(" "),"video"===i.type&&i.files.length?n("div",[n("video",{staticStyle:{width:"100%"},attrs:{controls:""}},[n("source",{attrs:{src:i.files[0].file_url,type:"video/"+i.files[0].ext}})])]):t._e(),t._v(" "),"youtube"===i.type?n("div",[""!==t.getYoutubeLink(i.content)?n("iframe",{attrs:{src:t.getYoutubeLink(i.content),width:"560",height:"315",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e()]):t._e(),t._v(" "),"quote"===i.type?n("blockquote",{style:"border-left-color: "+t.$store.state.baseInfo.org.base_color},[t._v("\n      "+t._s(i.content)+"\n    ")]):t._e()])})),0)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VChip:f.a,VImg:v.a})},670:function(t,e,n){"use strict";n(663)},671:function(t,e,n){var r=n(16)(!1);r.push([t.i,"blockquote,h1,h2,h3{margin-bottom:10px}blockquote{margin-top:10px;padding:20px 30px;background:#f9f9f9;border-left:2px solid #ffbb42}p{margin-bottom:20px!important}",""]),t.exports=r},707:function(t,e,n){"use strict";var r={components:{ContentDisplay:n(668).a},props:{value:{type:Object,required:!0},errors:{type:Object,required:!0},inline:{default:!1,type:Boolean}},computed:{errorMessages:function(){return JSON.parse(JSON.stringify(this.errors))}},watch:{value:{handler:function(t){this.$emit("input",t)},deep:!0},"value.image":function(t){this.value.image_id=t.id},errors:function(t){"content"in t&&this.$store.dispatch("showSnackbar","Content: "+t.content[0])}}},o=n(23),c=n(24),l=n.n(c),h=n(140),d=n(644),f=n(652),v=n(648),m=n(212),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"py-4 px-0"},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("VTextFieldEmoji",{attrs:{label:t.$t("badge.name"),errors:t.errorMessages.name},on:{removeError:function(e){t.errorMessages.name=""}},model:{value:t.value.name,callback:function(e){t.$set(t.value,"name",e)},expression:"value.name"}})],1),t._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("TagsSelector",{staticClass:"pt-2",model:{value:t.value.tags,callback:function(e){t.$set(t.value,"tags",e)},expression:"value.tags"}})],1),t._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("Editor",{model:{value:t.value.content,callback:function(e){t.$set(t.value,"content",e)},expression:"value.content"}})],1),t._v(" "),n("v-col",{staticClass:"py-0",attrs:{xs:"12"}},[n("v-subheader",[t._v(" "+t._s(t.$t("badge.image"))+" ")]),t._v(" "),n("v-file",{staticStyle:{margin:"0"},model:{value:t.value.image,callback:function(e){t.$set(t.value,"image",e)},expression:"value.image"}})],1)],1),t._v(" "),n("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[n("div",{staticClass:"inner",staticStyle:{"text-align":"center"}},[null!==t.value.image&&Object.keys(t.value.image).length?n("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.value.image.file_url,alt:"image"}}):t._e(),t._v(" "),n("div",[t._v("\n          "+t._s(t.$t("badge.unlocked"))+"\n          "),n("strong",[t._v(t._s(t.value.name))])]),t._v(" "),n("div",[n("ContentDisplay",{attrs:{content:t.value.content,"disable-mustache":""}})],1),t._v(" "),n("v-btn",{staticStyle:{margin:"10px auto"}},[t._v("\n          "+t._s(t.$t("buttons.close"))+"\n        ")])],1)])],1)],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VBtn:h.a,VCol:d.a,VContainer:f.a,VRow:v.a,VSubheader:m.a})},750:function(t,e,n){var content=n(839);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("1bfbdf66",content,!0,{sourceMap:!1})},838:function(t,e,n){"use strict";n(750)},839:function(t,e,n){var r=n(16)(!1);r.push([t.i,".border-bottom[data-v-d6306e3c]{border-bottom:1px solid #e4e4e4}.second[data-v-d6306e3c]{margin-left:10px}.first[data-v-d6306e3c]{margin-right:10px}",""]),t.exports=r},911:function(t,e,n){"use strict";n.r(e);n(7);var r={layout:"admin",components:{BadgeForm:n(707).a},data:function(){return{loading:!0,saving:!1,removing:!1,duplicating:!1,submittingForm:!1,errors:{},employee:{},badge:{}}},watch:{$route:function(t,e){this.getBadge()}},mounted:function(){this.getBadge()},methods:{getBadge:function(){var t=this;this.$badges.get(this.$route.params.id).then((function(data){t.badge=data})).catch((function(e){t.$store.dispatch("showSnackbar",t.$t("badge.noBadge"))})).finally((function(){t.loading=!1}))},saveBadge:function(){var t=this;this.saving=!0,this.$badges.update(this.$route.params.id,this.badge).then((function(data){t.$router.push({name:"admin-templates-badges"}),t.$store.dispatch("showSnackbar",t.$t("badge.updated"))})).catch((function(e){t.errors=e})).finally((function(){t.saving=!1}))},removeBadge:function(){var t=this;this.removing=!0,this.$badges.remove(this.$route.params.id).then((function(data){t.$router.push({name:"admin-templates-badges"}),t.$store.dispatch("showSnackbar",t.$t("badge.removed"))})).catch((function(e){t.errors=e})).finally((function(){t.removing=!1}))},duplicateBadge:function(){var t=this;this.duplicating=!0,this.$badges.update(this.$route.params.id,this.badge).then((function(data){t.$badges.duplicate(t.$route.params.id).then((function(data){t.$router.push({name:"admin-templates-badges"}),t.$store.dispatch("showSnackbar",t.$t("badge.savedAndDuplicated"))})).catch((function(e){t.errors=e})).finally((function(){t.duplicating=!1}))}))}}},o=(n(838),n(23)),c=n(24),l=n.n(c),h=n(140),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TemplateCompInner",[n("template",{slot:"header"},[n("h1",{staticClass:"heading",staticStyle:{"margin-top":"10px"}},[t._v("\n      "+t._s(t.$t("badge.change"))+"\n    ")])]),t._v(" "),n("template",{slot:"header-right"},[n("v-btn",{attrs:{loading:t.duplicating,color:"secondary"},on:{click:t.duplicateBadge}},[t._v("\n      "+t._s(t.$t("buttons.duplicate"))+"\n    ")]),t._v(" "),n("v-btn",{staticStyle:{"margin-right":"0px"},attrs:{loading:t.removing,color:"error"},on:{click:t.removeBadge}},[t._v("\n      "+t._s(t.$t("buttons.remove"))+"\n    ")])],1),t._v(" "),n("template",{slot:"formpart"},[n("LoadingIcon",{attrs:{"is-loading":t.loading}}),t._v(" "),t.loading?t._e():n("div",[n("BadgeForm",{attrs:{errors:t.errors},model:{value:t.badge,callback:function(e){t.badge=e},expression:"badge"}})],1)],1),t._v(" "),n("template",{slot:"footer"},[n("v-btn",{staticStyle:{float:"right"},attrs:{loading:t.saving,color:"primary"},on:{click:t.saveBadge}},[t._v("\n      "+t._s(t.$t("buttons.save"))+"\n    ")])],1)],2)}),[],!1,null,"d6306e3c",null);e.default=component.exports;l()(component,{VBtn:h.a})}}]);